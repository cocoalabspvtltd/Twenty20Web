<section>
 <!-- Navbar & Hero Start -->
<div class="container-fluid nav-bar px-0 px-lg-4 py-lg-0">
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light">
            <img src="assets/img/logo-20.png" alt="Logo" style="width:12%">
            <a class="navbar-brand">
                <!-- <h1 class="text-primary mb-0"><i class="fab fa-slack me-2"></i> LifeSure</h1> -->
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="fa fa-bars"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav mx-0 mx-lg-auto">
                    </div>
                <div class="d-xl-flex flex-shrink-0 ps-4">
                    <div class="col-12">
                        <div class="btn-group w-100">
                           
                                <button class="btn btn-secondary w-50 py-3" (click)="logout()" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">Logout</button>
                       
                       
                              </div>
                    </div>
                </div>
            </div>
        </nav>
    </div>
</div>
<!-- Navbar & Hero End -->
 
<div class="container-fluid  bg-light ">
    <div class="container py-4">
      <div class="row">  
        <div class="rounded py-3">                     
          <div class="col-12">             
            <p style="text-align:center; padding:5px; font-weight: 500px;">
              <a style="cursor: none; color:#1ba5f5;">ട്വൻറ്റി 20 പാർട്ടിയിലേക്ക് സ്വാഗതം ..! </a><br>നിങ്ങൾ ഞങ്ങളുടെ കൂട്ടായ്മയിൽ അംഗമായതിനു നന്ദി.അഴിമതി രഹിതവും യഥാർത്ഥവുമായ ഭരണത്തിനായി കൂട്ടായി പ്രവർത്തിക്കുക എന്നതാണ് ഈ ഗ്രൂപ്പിൻ്റെ ലക്ഷ്യം. നമുക്ക് ഒന്നിച്ച് പ്രവർത്തിക്കാം 
            </p>                
          </div> 
          
          <div class="video-container" *ngIf="!isVideoFinished" style="text-align: center;">
            
            <ng-container *ngIf="userDetails.constituency === 'കൊടുങ്ങല്ലൂർ'; else otherVideo">
              <video #myVideo id="myVideo" controls (ended)="onVideoEnd()" style="width: 300px; height: 300px;" autoplay muted>
                <source src="assets/video/sqvideo.mp4" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </ng-container>
            
            <ng-template #otherVideo>
              <ng-container *ngIf="userDetails.constituency === 'കൈപ്പമംഗലം'; else anotherConstituency">
                <video #myVideo id="myVideo" controls (ended)="onVideoEnd()" style="width: 300px; height: 300px;" autoplay muted>
                  <source src="https://cocoalabs.in/Twenty20/public/video/KAIPAMANGALAM.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </ng-container>
              
              <ng-template #anotherConstituency>
                <ng-container *ngIf="userDetails.constituency === 'അങ്കമാലി' || userDetails.constituency === 'കറുകുറ്റി'; else defaultVideo">
                  <video #myVideo id="myVideo" controls (ended)="onVideoEnd()" style="width: 300px; height: 300px;" autoplay muted>
                    <source src="assets/video/sqvideo.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </ng-container>
                
                <ng-template #defaultVideo>
                  <video #myVideo id="myVideo" controls (ended)="onVideoEnd()" style="width: 300px; height: 300px;" autoplay muted>
                    <source src="https://cocoalabs.in/Twenty20/public/video/CHALAKKUDI.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                  </video>
                </ng-template>
              </ng-template>
            </ng-template>
          </div>
          
          <!-- Link that plays the video again -->
          <div *ngIf="isVideoFinished" style="text-align: center;">
            <a (click)="onPlayVideo()" href="#">Watch Welcome Video</a>
          </div>
          
        </div>
      </div>
      

        <div class="row" >
            <div class="tabs">
                <input class="input" name="tabs" type="radio" id="tab-1" checked="checked"/>
                <label class="label" for="tab-1">കാർഡ്</label>
                <div class="panel">         
                    <div class="row g-4 justify-content-center">
                        <div class="col-12 col-md-8 col-lg-6">
                           
                                <div class="thumbnail">
                                    <!-- Image based on userDetails.constituency -->
                                    <img        [src]="userDetails.constituency === 'കൊടുങ്ങല്ലൂർ' 
                                                ? 'assets/img/Twenty20CI-Kodungallur-card.png' 
                                                : userDetails.constituency === 'കൈപ്പമംഗലം' 
                                                ? 'assets/img/Twenty20CI-Kaipamangalam-card.png' 
                                                : userDetails.constituency === 'ചാലക്കുടി'
                                                ? 'assets/img/Twenty20CI-Prepaid-Chalakkudi.jpg'
                                                : 'assets/img/default.jpg'" 
                                        alt="Constituency Image" 
                                        class="img-fluid">

                                    <!-- Caption Section -->
                                    <div class="caption mt-3">
                                        <table>
                                           
                                            <tr>
                                                <td><p class="mb-1">{{carddetails.card_number}}</p></td>
                                                <td><br><img *ngIf="image" 
                                                    [src]="image" 
                                                    alt="" 
                                                    class="img-fluid mb-2"></td>
                                            </tr>
                                             <tr>
                                                <td>  <p >{{carddetails.card_holder_name}}</p></td>
                                                <td><p >{{carddetails.validity | date: 'MM / yy'}}</p></td>
                                            </tr>
                                            <tr>
                                                <td><p >
                                                    {{userDetails.constituency}}/{{panchayath}}
                                                </p></td>
                                               
                                            </tr>
                                            
                                        </table>
                                       
                                    </div>
                                </div>
                            </div>
                       
                        
                    </div>
                    
                 </div>
                <input class="input" name="tabs" type="radio" id="tab-2"/>
                <label class="label" for="tab-2">എക്സിക്യൂട്ടീവ് അംഗത്വം</label>
                <div class="panel">
                   
                    <!-- <div *ngIf="this.member === '1' && this.check === 2" class="bg-white1 rounded py-3">
                        <div class="row py-4">
                            <div class="col-12">
                                <a><span style="cursor:pointer;text-decoration-line: underline;"></span></a>
                                <a style="color: rgb(12, 96, 170);">എക്സിക്യൂട്ടീവ് അംഗത്തിൻ്റെ വിവരങ്ങൾ <span style="cursor:pointer;text-decoration-line: underline;" (click)="membership1()">view/edit</span></a>
                            </div>
                        </div>
                    </div> -->

                    <!-- <div *ngIf="this.is_executive==0" class="bg-white1 rounded py-3">
                        <div class="row g-4">
                            <div class="col-12">
                                <a><span style="cursor:pointer;text-decoration-line: underline;"></span></a>
                                <a style="color: rgb(12, 96, 170);">എക്സിക്യൂട്ടീവ് അംഗത്തിൽ ചേരാൻ നിങ്ങൾക്ക് താൽപ്പര്യമുണ്ടോ? <span style="cursor:pointer;text-decoration-line: underline;" (click)="membership()">അതെ</span></a>
                            </div>
                        </div>
                    </div> -->

                    <div *ngIf="is_executive === '0' &&this.check==0" class="bg-white1 rounded py-3">
                        <div class="row g-4">
                          <div class="col-12">
                            <!-- Displaying the text and clickable element -->
                            <a style="color: rgb(12, 96, 170);">
                              എക്സിക്യൂട്ടീവ് അംഗത്തിൽ ചേരാൻ നിങ്ങൾക്ക് താൽപ്പര്യമുണ്ടോ? 
                              <span 
                                style="cursor: pointer; text-decoration: underline;" 
                                (click)="membership()">
                                അതെ
                              </span>
                            </a>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="is_executive === '1'&&this.check==0" class="bg-white1 rounded py-3">
                        <div class="row py-4">
                            <div class="col-12">
                                <a><span style="cursor:pointer;text-decoration-line: underline;"></span></a>
                                <a style="color: rgb(12, 96, 170);">എക്സിക്യൂട്ടീവ് അംഗത്തിൻ്റെ വിവരങ്ങൾ <span style="cursor:pointer;text-decoration-line: underline;" (click)="membership1()">view/edit</span></a>
                            </div>
                        </div>
                    </div>
    
                    @if(this.check==1){
                        <div class="container" id="executive_member">
                            <div class="row py-5" >
                                <div class="col-xl-12 py-3 wow fadeInRight bg-light" data-wow-delay="0.4s"  >
                                    <div class="form">
                                        
                                          <form [formGroup]="memberForm" (submit)="register()">
                                            <h4 class="text-primary">അംഗത്തിൻ്റെ വിവരങ്ങൾ  പൂരിപ്പിക്കുക</h4> <hr>
                                            <div class="row g-3">
                                               <!-- <div class="col-lg-12 col-xl-12">
                                                       @if(this.image !== '' && this.image !== null){
                                                        <img src="{{image}}" alt=""  style="width:100px;height: 100px;margin: auto;display: block;">
                                                    }
                                                </div>  -->
                                                <div class="col-lg-12 col-xl-12">
                                                    <ng-container *ngIf="image">
                                                      <img [src]="image" alt="Image" style="width:100px; height:100px; margin:auto; display:block;">
                                                    </ng-container>
                                                  </div>
                                                  
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" id="name" formControlName="username"  [(ngModel)]="userDetails.name" readonly>
                                                        <label for="name">പേര്</label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" id="age"  formControlName="age" placeholder="age"  [(ngModel)]="userDetails.age" readonly>
                                                        <label for="age">വയസ്സ്</label>
                                                       
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="gender" id="phone" [(ngModel)]="userDetails.gender" readonly>
                                                        <label for="phone">ലിംഗം</label>
                                                      
                                                    </div>
                                                </div>
                                             
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                    <input type="text" class="form-control border-0" formControlName="phone" id="phone" [(ngModel)]="userDetails.phone_number
                                                    " readonly>
                                                    <label for="phone">ഫോൺ നമ്പർ</label>
                                                </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0"   formControlName="job"  name="job">
                                                        <label for="job">തൊഴില്‍</label>
                                                       
                                                    </div>
                                                </div>
                                                
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="phone" class="form-control border-0"   formControlName="income" [(ngModel)]="userDetails.annual_income
                                                        " readonly>
                                                        <label for="name">വാർഷിക വരുമാനം</label>
                                                       
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="ward" maxlength="3" [(ngModel)]="userDetails.
                                                        ward
                                                        " readonly>
                                                        <label for="subject">വാർഡ്‌</label>
                                                        
                                                    </div>
                                                </div>  
                                                <div class="col-lg-12 col-xl-6">                                                  
                                                    <div class="form-floating">
                                                      <input type="phone" class="form-control border-0" formControlName="constituency"[(ngModel)]="userDetails.constituency" readonly
                                                      >
                                                        <label for="phone">നിയോജക മണ്ഡലം</label> 
            
            
                                                        
            
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-12">
                                                    <div class="form-floating">
                                                         <input type="phone" class="form-control border-0" formControlName="panchayath" [(ngModel)]="this.panchayath" readonly> 
                                                        <!-- <label for="phone">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label> -->
                                                        
                                                        <label for="secondDropdown">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label>  
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="education" id="education" placeholder="education">
                                                        <label for="phone">വിദ്യാഭ്യാസം</label>
                                                        @if(this.memberForm.get('education')?.hasError('required')&&this.memberForm.get('education')?.touched){
                                                            <div class="error" >വിദ്യാഭ്യാസം ആവശ്യമാണ്.</div>
                                                          } @else if(this.memberForm.get('education')?.hasError('minlength')){
                                                            <div class="error" >invalid education</div>
                                                          }
                                                    </div>
                                                    
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="address" id="address" placeholder="address">
                                                        <label for="phone">വിലാസം</label>
                                                        @if(this.memberForm.get('address')?.hasError('required')&&this.memberForm.get('address')?.touched){
                                                            <div class="error" >വിലാസം ആവശ്യമാണ്.</div>
                                                          } @else if(this.memberForm.get('address')?.hasError('minlength')){
                                                            <div class="error" >invalid address</div>
                                                          }
                                                    </div>
                                                    
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="email" class="form-control border-0" formControlName="email" id="email" placeholder="email" required="">
                                                        <label for="phone"> ഇമെയിൽ (ഓപ്ഷണൽ) </label>
                                                        @if(this.memberForm.get('email')?.hasError('required')&&this.memberForm.get('email')?.touched){
                                                            <div class="error" >ഇമെയിൽ ആവശ്യമാണ്.</div>
                                                          } @else if(this.memberForm.get('email')?.hasError('minlength')){
                                                            <div class="error" >invalid email</div>
                                                          }
                                                    </div>
                                                    
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="whatsapp" id="whatsapp" placeholder="whatsapp">
                                                        <label for="phone">വാട്ട്‌സ്ആപ്പ് (ഓപ്ഷണൽ) </label>
                                                        @if(this.memberForm.get('whatsapp')?.hasError('required')&&this.memberForm.get('whatsapp')?.touched){
                                                            <div class="error" >വാട്ട്‌സ്ആപ്പ് ആവശ്യമാണ്.</div>
                                                          } @else if(this.memberForm.get('address')?.hasError('minlength')){
                                                            <div class="error" >invalid address</div>
                                                          }
                                                    </div>
                                                    
                                                </div>
                                                <div class="row">
                                                    <p style="font-size:14px;color:#000;padding-top:20px">ഏതുവര്‍ഷം മുതലാണ്‌ താങ്കള്‍ ട്വൻ്റി 20 യില്‍ പ്രവര്‍ത്തിച്ചു തുടങ്ങിയത്‌?</p>
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="form-floating">
                                                            <div class="terms-section">
                                                                <div class="form-floating">
                                                                    <input type="date"  class="form-control border-0" formControlName="day_joining" id="day_joining" placeholder="day_joining">
                                                                </div>
                                                                
                                                              </div>                                      
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p style="font-size:14px;color:#000;padding-top:20px">താങ്കൾക്ക് എത്ര വർഷത്തെ സംഘടനാപരിചയം (മറ്റ് സാമൂഹ്യ-രാഷ്ട്രീയ പ്രസ്ഥാനങ്ങൾ ഉൾപ്പടെ) ഉണ്ട്?</p>
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="form-floating">
                                                            <div class="terms-section">
                                                                <div class="form-floating">
                                                                    <input type="text" class="form-control border-0"  formControlName="year_of_experience" id="year_of_experience" placeholder="year_of_experience">
                                                                </div>
                                                                
                                                              </div>                                      
                                                        </div>
                                                    </div>
                                                </div>
                                               <div class="row">
                                            <p style="font-size:14px;color:#000;padding-top:20px">ഭാരവാഹിത്വം വഹിക്കുന്നതിന് സമയവും ആരോഗ്യമും മറ്റു സാഹചര്യങ്ങളും താങ്കൾക്ക് അനുകൂലമാണോ?</p>
                                            <div class="col-lg-12 col-xl-6">
                                                <div class="form-floating">
                                                    <div>
                                                        <label class="radio-inline">
                                                            <input type="radio" name="join"  id="join" value="1"  formControlName="join">അതെ
                                                          </label>
                                                          <label class="radio-inline">
                                                            <input type="radio" name="join"  id="join"  value="0"  formControlName="join" >അല്ല
                                                          </label>
                                                          
                                                       
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
            
                                                                  
                                                <div class="col-12">
                                                    <button class="btn btn-primary w-100 py-3">സമർപ്പിക്കുക</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                    @if (this.msg) {
                                        <div  class="alert alert-success" role="alert">
                                           <p >{{this.msg}}</p>
                                         </div>
                                       }
                                       @if (this.errorMsg){
                                         <div class="alert alert-danger" role="alert">
                                           <p >{{this.errorMsg}}</p>
                                         </div>
                                       }
                                </div> 
                                
                            </div>
                           </div>
                    }
                   
                    @if(this.check==3){ 
                        <div class="container">
                            <div class="row py-5" >
                                
                                <div class="col-xl-12 wow fadeInRight bg-light" data-wow-delay="0.4s"  >
                                    <div class="form">
                                        
                                          <form [formGroup]="memberForm1" (submit)="update()">
                                            <h4 class="text-primary">അംഗത്തിൻ്റെ വിവരങ്ങൾ  പൂരിപ്പിക്കുക</h4> <hr>
                                            <div class="row g-3">
                                                <div class="col-lg-12 col-xl-6">
                                                    <div>
                                                        <input type="file" accept="image/*" (change)="onFileSelect($event)">
                                                      </div>
                                                      or
                                                      <div>
                                                        <button type="button" (click)="captureImage()"><i class="fa fa-camera" aria-hidden="true"></i></button>
                                                        <input type="file" accept="image/*" capture="camera" hidden #cameraInput (change)="onFileSelect($event)">
                                                      </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    @if(this.image!="" ||this.image!=null){
                                                        <img src="{{image}}" alt=""  style="width:100px;height: 100px;margin: auto;display: block;">
                                                    }
                                                </div>
                                               
                                                
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" id="name" formControlName="username"  [(ngModel)]="this.userDatas.name" (input)="validatename()">
                                                        <label for="name">പേര്</label>
                                                        <span class="error">{{nameError}}</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" id="age" maxlength="2" (input)="validateage()"  formControlName="age" placeholder="age"  [(ngModel)]="this.memberuserdetails.age">
                                                        <label for="age">വയസ്സ്</label>
                                                        <span class="error">{{ageError}}</span>
                                                    </div>
                                                </div>
                                               
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="gender" id="phone" [(ngModel)]="this.memberuserdetails.gender" >
                                                        <label for="phone">ലിംഗം</label>
                                                      
                                                    </div>
                                                </div>
                                             
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                    <input type="text" class="form-control border-0" formControlName="phone" maxlength="15" id="phone" [(ngModel)]="this.memberuserdetails.phone_number
                                                    " (input)="validatePhoneNumber()">
                                                    <label for="phone">ഫോൺ നമ്പർ</label>
                                                    <span class="error">{{mobileError}}</span>
                                                </div>

                                                </div>
                                             
                                              <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="email" class="form-control border-0" formControlName="email" id="email" name="email"  [(ngModel)]="this.memberdetails.email" (input)="validatemail()" required>
                                                        <label for="email"> ഇമെയിൽ </label>
                                                        <span class="error">{{emailError}}</span>
                                                    </div>
                                                    
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="whatsapp" maxlength="15" id="whatsapp" name="whatsapp"  [(ngModel)]="this.memberdetails.whatsappNumber"  (input)="validatewhatsNumber()">
                                                        <label for="whatsapp">വാട്ട്‌സ്ആപ്പ്</label>
                                                        <span class="error">{{whatsError}}</span>
                                                    </div>
                                                    
                                                </div> 
                                                
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0"   formControlName="income"  name="income" [(ngModel)]="this.memberuserdetails.annual_income"  (input)="validateincome()">
                                                        <label for="income">വാർഷിക വരുമാനം</label>
                                                        <span class="error">{{incomeError}}</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0"   formControlName="job"  name="job" [(ngModel)]="this.memberdetails.job" (input)="validatejob()">
                                                        <label for="job">തൊഴില്‍</label>
                                                        <span class="error">{{jobError}}</span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="education" id="education" [(ngModel)]="this.memberdetails.education">
                                                        <label for="education">വിദ്യാഭ്യാസം</label>
                                                    </div>
                                                    
                                                </div>
                                              <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                        <input type="textarea" class="form-control border-0" formControlName="address" id="address" [(ngModel)]="this.memberdetails.address">
                                                        <label for="address">വിലാസം</label>
                                                    </div>
                                                    </div> 
                                                <div class="col-lg-12 col-xl-4">
                                                    <div class="form-floating">
                                                        <input type="text" class="form-control border-0" formControlName="ward" maxlength="3" [(ngModel)]="this.memberuserdetails.ward">
                                                        <label for="subject">വാർഡ്‌</label>
                                                        
                                                    </div>
                                                </div>  
                                                <div class="col-lg-12 col-xl-6">
                                                    <div class="form-floating">
                                                      <!-- <input type="phone" class="form-control border-0" formControlName="constituency"[(ngModel)]="this.memberuserdetails.constituency"> -->
                                                        <!-- <label for="phone">നിയോജക മണ്ഡലം</label> -->
                                                        <select class="form-control" id="firstDropdown" (change)="onFirstDropdownChange1($event)" formControlName="constituency" [(ngModel)]="this.memberuserdetails.constituency">
                                                            <!-- <option value="">നിയോജക മണ്ഡലം തിരഞ്ഞെടുക്കുക</option>  -->
                                                            <option *ngFor="let consti of constituencylist" >{{ consti.name }}</option>
                                                           <!-- <option value="കൊടുങ്ങല്ലൂർ">കൊടുങ്ങല്ലൂർ</option> -->
                                                         </select> 
                                                    </div>
                                                </div>
                                                <!-- <div class="col-lg-12 col-xl-12">
                                                    <div class="form-floating">
                                                         <!-- <input type="phone" class="form-control border-0" formControlName="panchayath" [(ngModel)]="this.panchayath">  -->
                                                        <!-- <label for="phone">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label> --
                                                        <select class="form-control" id="secondDropdown" (change)="onsecondDropdownChange($event)" formControlName="panchayath" [(ngModel)]="this.panchayath">
                                                            <option value="">തിരഞ്ഞെടുക്കുക</option>
                                                             <option *ngFor="let panchayat of panchayats">{{ panchayat.name }}</option>
                                                           </select>
                                                        <label for="secondDropdown">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label>  
                                                    </div>
                                                </div> -->
                                                @if(!panchayats){
                                                  <div class="col-lg-12 col-xl-12">
                                                    <label for="secondDropdown">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label>
                                                    <div class="form-floating">
                                                        
                                                     <select class="form-control" id="secondDropdown" (change)="onsecondDropdownChange($event)" formControlName="panchayath">
                                                        <option value="">{{this.panchayath}}</option>
                                                        
                                                      </select> 
                                                     
                                                    </div>
                                                  </div> 
                                                }
                                                @else {
                                                  <div class="col-lg-12 col-xl-12">
                                                    <label for="secondDropdown">പഞ്ചായത്ത്, മുനിസിപ്പാലിറ്റി, കോര്‍പ്പറേഷന്‍</label>
                                                    <div class="form-floating">
                                                      <select class="form-control" id="secondDropdown" (change)="onsecondDropdownChange($event)" formControlName="panchayath">
                                                        <option value="">തിരഞ്ഞെടുക്കുക</option>
                                                        <option *ngFor="let panchayat of panchayats" [value]="panchayat.id">{{panchayat.name}}</option>
                                                      </select>
                                                    </div>
                                                  </div>
                                                }
                                                  
                                               
                                              <div class="row">
                                                    <p style="font-size:14px;color:#000;padding-top:20px">ഏതുവര്‍ഷം മുതലാണ്‌ താങ്കള്‍ ട്വൻ്റി 20 യില്‍ പ്രവര്‍ത്തിച്ചു തുടങ്ങിയത്‌?</p>
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="form-floating">
                                                            <div class="terms-section">
                                                                <div class="form-floating">
                                                                    <input type="date" class="form-control border-0" formControlName="day_joining" id="day_joining"  name="day_joining" [(ngModel)]="date" >
                                                                </div>
                                                                
                                                              </div>                                      
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p style="font-size:14px;color:#000;padding-top:20px">താങ്കൾക്ക് എത്ര വർഷത്തെ സംഘടനാപരിചയം (മറ്റ് സാമൂഹ്യ-രാഷ്ട്രീയ പ്രസ്ഥാനങ്ങൾ ഉൾപ്പടെ) ഉണ്ട്?</p>
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="form-floating">
                                                            <div class="terms-section">
                                                                <div class="form-floating">
                                                                    <input type="text" class="form-control border-0"  formControlName="year_of_experience" id="year_of_experience" [(ngModel)]="this.memberdetails.year_of_experience">
                                                                </div>
                                                                
                                                              </div>                                      
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <p style="font-size:14px;color:#000;padding-top:20px">ഭാരവാഹിത്വം വഹിക്കുന്നതിന് സമയവും ആരോഗ്യവും മറ്റ് സാഹചര്യങ്ങളും താങ്കൾക്ക് അനുകൂലമാണോ?</p>
                                                    <div class="col-lg-12 col-xl-6">
                                                        <div class="form-floating">
                                                            <div>                                                    
                                                                <label class="radio-inline">
                                                                    <input type="radio" name="is_willing_to_join"  id="is_willing_to_join" value="1"  formControlName="is_willing_to_join" [(ngModel)]="memberdetails.is_willing_to_join">അതെ
                                                                  </label>
                                                                  <label class="radio-inline">
                                                                    <input type="radio" name="is_willing_to_join"  id="is_willing_to_join"  value="0"  formControlName="is_willing_to_join" [(ngModel)]="memberdetails.is_willing_to_join" >അല്ല
                                                                  </label>
                                                                  
                                                              </div>
                                                            
                                                                                                   
                                                        </div>
                                                      
                                                    </div>
                                                </div> 
                                                                  
                                                <div class="col-12">
                                                    <button class="btn btn-primary w-100 py-3">സമർപ്പിക്കുക</button>
                                                </div>
                                            </div>
                                          </form>
                                    </div>
                                    @if (this.msg) {
                                        <div  class="alert alert-success" role="alert">
                                           <p >{{this.msg}}</p>
                                         </div>
                                       }
                                       @if (this.errorMsg){
                                         <div class="alert alert-danger" role="alert">
                                           <p >{{this.errorMsg}}</p>
                                         </div>
                                       }
                                </div> 
                                
                            </div>
                           </div>
                    }
                </div>
                <input class="input" name="tabs" type="radio" id="tab-4"/>
                <label class="label" for="tab-4">അക്കൗണ്ട്</label>
                <div class="panel">
                    <div class="bg-white rounded">
                        <div class="row"style=" box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);padding:20px;background-color: #b8ddf3;">
                            <p style="text-align: center;">അക്കൗണ്ട്</p>
                           </div>
                           <hr>
                        <div class="row">
                           <table style="margin:auto;width:600px;display: block;">
                            <tr>
                                <td>അംഗീകൃത തുക</td>
                                <td>: </td>
                                <td>₹ {{carddetails.amount}}</td>
                            </tr>
                            <tr>
                                <td>ബാക്കി തുക</td>
                                <td> :  </td>
                                <td> ₹ {{balance}}</td>
                            </tr>
                           </table>
                        </div>
                        @if(transactionData){
                            <div class="row" style=" box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);padding:10px;background-color: #b8ddf3;">
                                <p style="text-align: center;">ഇടപാടുകൾ</p>
                               </div>
                              
                            <div class="row" style="display: flex; justify-content: center;" >
                                <table style="margin:0;width:50%">                              
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Amount</th>
                                            
                                        </tr>
                                    </thead>
                                    <tbody>
                                                                          
                                        @for (item of transactionData | paginate : {
                                            itemsPerPage: tableSize,
                                            currentPage: page,
                                            totalItems: count
                                          }; track $index) {                                      
                                                <tr style="border-bottom: 1px solid #000;">
                                                    <td>{{item.date | date:'dd-MM-yyyy'}}</td>
                                                    <td>{{item.total_amount}}</td>
                                                    
                                                </tr> 
                                           
                                        }                               
                                    </tbody>
                                   
                                </table>
                                <br>@if(length>10){
                                    <br><br>
                                    <div  style="width:400px; margin:0 auto;">
                                      <pagination-controls  (pageChange)="handlePageChange($event)"  ></pagination-controls>     
                                    </div>
                      
                                   }
                            </div>
                        }
                       
                    </div>
                </div>
                <!-- <input class="input" name="tabs" type="radio" id="tab-3"/>
                <label class="label" for="tab-3">ഇടപാടുകൾ</label>
                <div class="panel">
                    <div class="bg-white rounded py-4">
                        <div class="row" >
                            <div class="scrollable-div">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Amount</th>
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                                                      
                                    @for (item of transactionData; track $index) {                                      
                                            <tr style="border-bottom: 1px solid #000;">
                                                <td>{{item.date}}</td>
                                                <td>{{item.total_amount}}</td>
                                                
                                            </tr> 
                                       
                                    }                               
                                </tbody>
                               
                            </table>
                        </div>
                        </div>
                        
                    </div>
                 </div> -->
                 @if(carddetails.status!='active'){
                    <input class="input" name="tabs" type="radio" id="tab-5"/>
                    <label class="label" for="tab-5">പ്രൊമോ കോഡ്</label>
                    <div class="panel">
                        <div class="row" style="margin-top:50px; padding:10px">
                            <div class="bg-white py-3">
                                <div class="inline-form">
                                    <input type="text" [(ngModel)]="inputValue" placeholder=" PROMOCODE" class="form-control">
                                    <button (click)="onSubmit()" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div> 
                 }
                
                 @if(this.userRole!='user'){
                    <input class="input" name="tabs" type="radio" id="tab-6"/>
                    <label class="label" for="tab-6" (click)="reports()">അവലോകനം</label>
                    <div class="panel">                       
                        <!-- Button trigger modal -->
                        <div class="container">
                            <div class="row">
                              <br>                              
                              <!-- Constituency President Section -->
                              <ng-container *ngIf="userRole == 'constituency_president'">
                                <div class="row justify-content-center my-4">
                                  
                                  <!-- Constituency Overview -->
                                  <div class="col-12 col-sm-6 col-md-4 text-center mb-3">
                                    <button class="btn btn-primary btn-lg shadow-lg rounded-pill w-100" (click)="report3()">
                                        <i class="fa fa-chart-line"></i> 
                                     മണ്ഡലം അവലോകനം
                                    </button>
                                  </div>                          
                                  <!-- Panchayath Overview -->
                                  <div class="col-12 col-sm-6 col-md-4 text-center mb-3">
                                    <button class="btn btn-success btn-lg shadow-lg rounded-pill w-100" (click)="report4()">
                                      <i class="fas fa-chart-bar"></i> 
                                      പഞ്ചായത്ത് അവലോകനം
                                    </button>
                                  </div>
                          
                                  <!-- Ward Overview -->
                                  <div class="col-12 col-sm-6 col-md-4 text-center mb-3">
                                    <button class="btn btn-info btn-lg shadow-lg rounded-pill w-100" (click)="report5()">
                                        <i class="fa fa-chart-pie"></i> 
                                        വാർഡ് അവലോകനം
                                      </button>
                                    <!-- <button class="btn btn-info btn-lg shadow-lg rounded-pill w-100" (click)="report5()">
                                      <i class="fa fa-pie-chart"></i> 
                                      വാർഡ് അവലോകനം
                                    </button> -->
                                  </div>
                                </div>
                              </ng-container>                          
                              <!-- Panchayath President Section -->
                              <ng-container *ngIf="userRole == 'panchayath_president'">
                                <div class="row justify-content-center my-4">
                                  <div class="col-12 col-sm-6 text-center mb-3">
                                    <button class="btn btn-primary btn-lg shadow-lg rounded-pill w-100" (click)="report1()">
                                      <i class="fa fa-chart-line"></i> 
                                      പഞ്ചായത്ത് അവലോകനം
                                    </button>
                                  </div>
                                  <div class="col-12 col-sm-6 text-center mb-3">
                                    <button class="btn btn-info btn-lg shadow-lg rounded-pill w-100" (click)="report2()">
                                      <i class="fa fa-chart-pie"></i> 
                                      വാർഡ് അവലോകനം
                                    </button>
                                  </div>
                                </div>
                              </ng-container>
                          
                              <!-- Ward Member Section -->
                              <ng-container *ngIf="userRole == 'ward_member'">
                                <div class="row justify-content-center my-4">
                                  <div class="col-12 col-sm-6 text-center mb-3">
                                    <!-- <button class="btn btn-secondary btn-lg shadow-lg rounded-pill w-100" (click)="report2()">
                                      <i class="fa fa-chart-pie"></i> 
                                      വാർഡ് അവലോകനം
                                    </button> -->
                                  </div>
                                </div>
                              </ng-container>
                          
                            </div>
                          </div>                          
                                <br>
                                    @if (this.panchayath_report) {                                        
                                        <div class="loader" *ngIf="isLoading">
                                            <div class="spinner"></div>
                                          </div>
                                          <div *ngIf="!isLoading">                                            
                                                
                                                    <div class="table-responsive">                                                       
                                                            <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                                            <tr style="background-color:  #b5dcf7; ; color: #111010; text-align: center;">
                                                                <td colspan="4" style="padding: 10px; font-size: 16px;">പഞ്ചായത്ത് അവലോകനം</td>
                                                            </tr>
                                                            
                                                        
                                                            <!-- Toggle Button to Show or Hide the form -->
                                                        <div class="button-group" style="text-align: right; margin-bottom: 15px;margin-top: 10px;">
                                                            <!-- Toggle Filter Button -->
                                                            <button 
                                                                class="btn btn-secondary" 
                                                                (click)="toggleFormVisibility()" 
                                                                style="margin-right: 10px; padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                <i class="fas" [ngClass]="isFormVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                                                                {{ isFormVisible ? 'Hide Filter' : 'Show Filter' }}
                                                            </button>  
                                                             <button 
                                                                class="btn btn-primary" 
                                                                (click)="report_review()" 
                                                                style="margin-right: 10px;padding: 10px 25px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                 Reset
                                                            </button>                                                 
                                                        
                                                        </div>
                                                        
                                                        <!-- Filter Form: Show/Hide based on isFormVisible -->
                                                        <tr *ngIf="isFormVisible">
                                                            <td colspan="2">
                                                            <form [formGroup]="filterForm" (ngSubmit)="onFilter()">
                                                                <div class="filter-section">
                                                                <!-- Panchayat Filter -->
                                                                <!-- Start Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="startDate" class="filter-label">Start Date</label>
                                                                    <input type="date" id="startDate" formControlName="startDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- End Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="endDate" class="filter-label">End Date</label>
                                                                    <input type="date" id="endDate" formControlName="endDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- Filter Button -->
                                                                <div class="filter-item filter-button">
                                                                    <button type="submit" class="btn btn-filter">Filter</button>
                                                                </div>
                                                                </div>
                                                            </form>
                                                            </td>
                                                        </tr>
                                                                                                        
                                                            <div *ngIf="filteredData && filteredData.length > 0; else noData1">
                                                                <!-- Display filtered data in a table -->
                                                                <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                    <th>Sl.No</th>
                                                                    <th>Date</th>
                                                                    <th>പഞ്ചായത്ത്</th>
                                                                    <!-- Add other columns as needed -->
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of filteredData | paginate: { itemsPerPage: 10, currentPage: page }; let i = index">
                                                                    <td>{{ i+1 }}</td>
                                                                    <td>{{ item.date | date: 'dd-MM-yyyy' }}</td>
                                                                    <td>{{ item.panchayath_name }}</td>
                                                                    <td>
                                                                        <a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal2" (click)="panchaythView(item.id)">Click to view report</a>
                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
                                                            </div>
                                                            
                                                            <!-- No data message -->
                                                            <ng-template #noData1>
                                                                <p class="text-center text-muted">No data available for the selected date range.</p>
                                                            </ng-template>
                                                            

                                                        
                                                            </table>
                                                                                  
                                                     </div>                                       
                                           
                                        <ng-template #noData>
                                            <p class="text-center text-muted">No data available for the selected date range.</p>
                                          </ng-template>
                                                          
                                                 
                                                </div>                            
                                        
                                    }
                                    @if (this.ward_report) {                                   
                                        <div class="loader" *ngIf="isLoading">
                                            <div class="spinner"></div>
                                          </div>
                                          <div *ngIf="!isLoading">                                      
                                                    <div class="table-responsive">                                                       
                                                            <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                                            <tr style="background-color:  #b5dcf7; ; color: #111010; text-align: center;">
                                                                <td colspan="4" style="padding: 10px; font-size: 16px;">വാർഡ് അവലോകനം</td>
                                                            </tr>
                                                            <!-- Toggle Button to Show or Hide the form -->
                                                           <div class="button-group" style="text-align: right; margin-bottom: 15px;margin-top: 10px;">
                                                            <!-- Toggle Filter Button -->
                                                            <button 
                                                                class="btn btn-secondary" 
                                                                (click)="toggleFormVisibility()" 
                                                                style="margin-right: 10px; padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                <i class="fas" [ngClass]="isFormVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                                                                {{ isFormVisible ? 'Hide Filter' : 'Show Filter' }}
                                                            </button>  
                                                             <button 
                                                                class="btn btn-primary" 
                                                                (click)="report_review1()" 
                                                                style="margin-right: 10px;padding: 10px 25px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                 Reset
                                                            </button>                                                 
                                                        
                                                        </div>
                                                        
                                                        <!-- Filter Form: Show/Hide based on isFormVisible -->
                                                        <tr *ngIf="isFormVisible">
                                                            <td colspan="2">
                                                                <form [formGroup]="filterForm3" (ngSubmit)="onFilter11()">
                                                                <div class="filter-section">
                                                                <!-- Panchayat Filter -->
                                                                <!-- Ward Filter -->
                                                                 @if(this.checked==1){
                                                                    <div class="filter-item">
                                                                        <label for="ward" class="filter-label">വാർഡ്</label>
                                                                        <select
                                                                        style="background-color: #fff !important;"
                                                                        id="ward"
                                                                        formControlName="ward"
                                                                        class="form-control"
                                                                        >
                                                                        <option value="">വാർഡ്</option>
                                                                        <option *ngFor="let ward of wards1" [value]="ward.name">
                                                                            {{ ward.name }}
                                                                        </option>
                                                                        </select>
                                                                    </div>
                                                                 }
                                                                
                                                                <!-- Start Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="startDate" class="filter-label">Start Date</label>
                                                                    <input type="date" id="startDate" formControlName="startDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- End Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="endDate" class="filter-label">End Date</label>
                                                                    <input type="date" id="endDate" formControlName="endDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- Filter Button -->
                                                                <div class="filter-item filter-button">
                                                                    <button type="submit" class="btn btn-filter">Filter</button>
                                                                </div>
                                                                </div>
                                                            </form>
                                                            </td>
                                                        </tr>                                                                                                 
                                                            <div *ngIf="filteredData11 && filteredData11.length > 0; else noData1">
                                                                <!-- Display filtered data in a table -->
                                                                <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                    <th>Sl.No</th>
                                                                    <th>Date</th>
                                                                    <th>പഞ്ചായത്ത്</th>
                                                                    <th>വാർഡ്</th>
                                                                    
                                                                    <!-- Add other columns as needed -->
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    
                                                                    <tr *ngFor="let item of filteredData11 | paginate: { itemsPerPage: 10, currentPage: page }; let i = index">
                                                                    <td>{{ i+1 }}</td>
                                                                    <td>{{ item.date | date: 'dd-MM-yyyy' }}</td>
                                                                    <td>{{ item.panchayath_name }}</td>
                                                                    <td>{{item.ward_name}}</td>
                                                                    <td>
                                                                        <a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal1" (click)="wardView(item.id)">Click to view report</a>
                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
                                                            </div>
                                                            
                                                            <!-- No data message -->
                                                            <ng-template #noData1>
                                                                <p class="text-center text-muted">No data available for the selected date range.</p>
                                                            </ng-template>
                                                            

                                                        
                                                            </table>
                                                                                  
                                                     </div>                                       
                                           
                                        <ng-template #noData>
                                            <p class="text-center text-muted">No data available for the selected date range.</p>
                                          </ng-template>
                                                          
                                                 
                                                </div> 







                                    } 
                                    @if (this.madalam_report) {
                                        @if(this.madalam_report==1){
                                            @if (!reviewData3 || reviewData3.length === 0;) {
                                                <p>No data found</p>
                                               } @else { 
                                                 <div class="table-responsive">
                                                <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                                    <tr style="background-color: #b5dcf7; color: #111010; text-align: center;">
                                                        <td colspan="4" style="padding: 10px; font-size: 16px;">നിയോജകമണ്ഡലം അവലോകനം</td>
                                                    </tr>
                                                    <tr>
                                                        <td colspan="4" style="padding: 20px;">
                                                            <form [formGroup]="filterForm1" (ngSubmit)="onFilter1()">
                                                                <div class="filter-section">
                                                                    <!-- Panchayath Filter -->
                                                                    <!-- <div class="filter-item">
                                                                        <label for="panchayath" class="filter-label">വാർഡ്</label>
                                                                        <select style="background-color: #fff !important;" id="wardSelect" formControlName="ward" class="form-control" (change)="onWardSelect($event)">
                                                                            <option value="" disabled>Select a ward</option>
                                                                            <option *ngFor="let ward of wards1" [value]="ward.id">{{ ward.name }}</option>
                                                                          </select>
                                                                    </div> -->
                                            
                                                                    <!-- Start Date Filter -->
                                                                    <div class="filter-item">
                                                                        <label for="startDate" class="filter-label">Start Date</label>
                                                                        <input type="date" id="startDate"  [max]="maxDate" formControlName="startDate" class="filter-input">
                                                                    </div>
                                            
                                                                    <!-- End Date Filter -->
                                                                    <div class="filter-item">
                                                                        <label for="endDate" class="filter-label">End Date</label>
                                                                        <input type="date" id="endDate"  [max]="maxDate" formControlName="endDate" class="filter-input">
                                                                    </div>
                                            
                                                                    <!-- Filter Button -->
                                                                    <div class="filter-item filter-button">
                                                                        <button type="submit" class="btn btn-filter">Filter</button>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </td>
                                                    </tr>
                                            
                                                    <div *ngIf="filteredData1 && filteredData1.length > 0; else noData">
                                                        <!-- Display filtered data in a table or list -->
                                                        <table class="table table-bordered">
                                                          <thead>
                                                            <tr>
                                                              <th>Sl.No</th>
                                                              <th>Date</th>
                                                              <th>നിയോജകമണ്ഡലം</th>
                                                             
                                                              <!-- Add other columns as needed -->
                                                            </tr>
                                                          </thead>
                                                          <tbody>
                                                            <tr *ngFor="let item of filteredData1 | paginate: { itemsPerPage: 10, currentPage: page }; let i = index">
                                                               
                                                                <td>{{ (page - 1) * itemsPerPage + i + 1 }}</td>
                                                              <td>{{ item.report_date | date:'dd-MM-yyyy' }}</td>
                                                              <td>{{ item.constituency_name }}</td>
                                                             
                                                              <td><a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="madalamView(item.id)">click to view report</a> </td>

                                                            </tr>
                                                          </tbody>
                                                        </table>
                                                      </div>
                                                      
                                                      <!-- No data message -->
                                                      <ng-template #noData>
                                                        <p class="text-center text-muted">No data available for the selected date range.</p>
                                                      </ng-template>
                                                      
                                                <!-- @for (item of filteredData1| paginate : {
                                                    itemsPerPage: tableSize,
                                                    currentPage: page,
                                                    totalItems: count
                                                  }; track $index) {
                                                        <tr style=" border-bottom:1px solid  #7c7979;padding:10px">
                                                            <td>{{item.report_date
                                                                | date:'dd-MM-yyyy' }}</td>
                                                            
                                                            <td>{{item.constituency_name}}</td>                                                           
                                                            <td><a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="madalamView(item.id)">click to view report</a> </td>
    
                                                        </tr>
                                                    } -->
                                                    
                                                </table>
                                                <br>@if(length>10){
                                                    <br><br>
                                                    <div  style="width:400px; margin:0 auto;">
                                                      <pagination-controls  (pageChange)="handlePageChange($event)"  ></pagination-controls>     
                                                    </div>
                                      
                                                   }
                                                   </div>
                                            }
                                        }
                                        @if(this.madalam_report==2){
                                            <div class="loader" *ngIf="isLoading">
                                                <div class="spinner"></div>
                                              </div>
                                              <div *ngIf="!isLoading">                                                   
                                                    <div class="table-responsive">
                                                        <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                                            <tr style="background-color:  #b5dcf7; ; color: #111010; text-align: center;">
                                                                <td colspan="4" style="padding: 10px; font-size: 16px;">പഞ്ചായത്ത് അവലോകനം</td>
                                                            </tr>                                                           
                                                           
                                                           <div class="button-group" style="text-align: right; margin-bottom: 15px;margin-top: 10px;">
                                                            <!-- Toggle Filter Button -->
                                                            <button 
                                                                class="btn btn-secondary" 
                                                                (click)="toggleFormVisibility()" 
                                                                style="margin-right: 10px; padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                <i class="fas" [ngClass]="isFormVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                                                                {{ isFormVisible ? 'Hide Filter' : 'Show Filter' }}
                                                            </button>
                                                        
                                                            <button 
                                                            class="btn btn-primary" 
                                                            (click)="report4()" 
                                                            style="margin-right: 10px;padding: 10px 25px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                        >
                                                             Reset
                                                        </button>
                                                        </div>
                                                        
                                                        <!-- Filter Form: Show/Hide based on isFormVisible -->
                                                        <tr *ngIf="isFormVisible">
                                                            <td colspan="2">
                                                            <form [formGroup]="filterForm2" (ngSubmit)="onFilter2()">
                                                                <div class="filter-section">
                                                                <!-- Panchayat Filter -->
                                                                <div class="filter-item">
                                                                    <label for="panchayath" class="filter-label">പഞ്ചായത്ത്</label>
                                                                    <select
                                                                    style="background-color: #fff !important;"
                                                                    id="panchayath"
                                                                    formControlName="panchayath"
                                                                    class="form-control"
                                                                    (change)="onPanchayathChange($event)"
                                                                    >
                                                                    <option value="">പഞ്ചായത്ത്</option>
                                                                    <option *ngFor="let panchayat of panchayats" [value]="panchayat.name">
                                                                        {{ panchayat.name }}
                                                                    </option>
                                                                    </select>
                                                                </div>                                                                
                                                               
                                                        
                                                                <!-- Start Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="startDate" class="filter-label">Start Date</label>
                                                                    <input type="date" id="startDate" formControlName="startDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- End Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="endDate" class="filter-label">End Date</label>
                                                                    <input type="date" id="endDate" formControlName="endDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- Filter Button -->
                                                                <div class="filter-item filter-button">
                                                                    <button type="submit" class="btn btn-filter">Filter</button>
                                                                </div>
                                                                </div>
                                                            </form>
                                                            </td>
                                                        </tr>
                                                                                                           
                                                            <div *ngIf="filteredData2 && filteredData2.length > 0; else noData">
                                                                <!-- Display filtered data in a table -->
                                                                <table class="table table-bordered">
                                                                <thead>
                                                                    <tr>
                                                                    <th>Sl.No</th>
                                                                    <th>Date</th>
                                                                    <th>പഞ്ചായത്ത്</th>
                                                                    <!-- Add other columns as needed -->
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let item of filteredData2 | paginate: { itemsPerPage: 10, currentPage: page }; let i = index">
                                                                      <td>{{ (page - 1) * itemsPerPage + i + 1 }}</td>
                                                                    <td>{{ item.date | date: 'dd-MM-yyyy' }}</td>
                                                                    <td>{{ item.panchayath_name }}</td>
                                                                    <td>
                                                                        <a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal2" (click)="panchaythView(item.id)">Click to view report</a>
                                                                    </td>
                                                                    </tr>
                                                                </tbody>
                                                                </table>
                                                            </div>
                                                            
                                                            <!-- No data message -->
                                                            <ng-template #noData>
                                                                <p class="text-center text-muted">No data available for the selected date range.</p>
                                                            </ng-template>
                                                            

                                                        <!-- @for (item of reviewData4 | paginate : {
                                                            itemsPerPage: tableSize,
                                                            currentPage: page,
                                                            totalItems: count
                                                        }; track $index) {
                                                                <tr style=" border-bottom:1px solid  #7c7979;padding:10px">
                                                                    <td>{{item.date
                                                                        | date:'dd-MM-yyyy' }}</td>
                                                                    
                                                                    
                                                                    <td>{{item.panchayath_name}}</td>
                                                                    <!-- <td>{{item.ward_name}}</td> --
                                                                    <td>
                                                                        <button class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal2" (click)="panchaythView(item.id)">click to view report
                                                                        
                                                                        </button>
                                                                    </td>
            
                                                                </tr>
                                                            }
                                                            -->
                                                        </table>
                                                        <br>@if(length>10){
                                                            <br><br>
                                                            <div  style="width:400px; margin:0 auto;">
                                                            <pagination-controls  (pageChange)="handlePageChange($event)"  ></pagination-controls>     
                                                            </div>
                                            
                                                        }
                                                        </div>
                                                    </div>
                                                    <!-- No data message -->
                                                    <ng-template #noData>
                                                        <p class="text-center text-muted">No data available for the selected date range.</p>
                                                    </ng-template>                                                             
                                           
                                        }
                                        @if(this.madalam_report==3){
                                            <div class="loader" *ngIf="isLoading">
                                                <div class="spinner"></div>
                                              </div>  
                                              <div *ngIf="!isLoading">                                          
                                                <div class="table-responsive">
                                                    <div class="loader" *ngIf="isLoading">
                                                        <div class="spinner"></div>
                                                      </div>
                                                      <div *ngIf="!isLoading">
                                                        <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                                            <tr style="background-color:  #b5dcf7;  color: #0c0b0b; text-align: center;">
                                                                <td colspan="4" style="padding: 10px; font-size: 16px;">
                                                                    വാർഡ് അവലോകനം</td>
                                                            </tr>
                                                           <!-- Toggle Button to Show or Hide the form -->
                                                           <div class="button-group" style="text-align: right; margin-bottom: 15px;margin-top: 10px;">
                                                            <!-- Toggle Filter Button -->
                                                            <button 
                                                                class="btn btn-secondary" 
                                                                (click)="toggleFormVisibility()" 
                                                                style="margin-right: 10px; padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                            >
                                                                <i class="fas" [ngClass]="isFormVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                                                                {{ isFormVisible ? 'Hide Filter' : 'Show Filter' }}
                                                            </button>
                                                        
                                                            <button 
                                                            class="btn btn-primary" 
                                                            (click)="report5()" 
                                                            style="margin-right: 10px;padding: 10px 25px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                                        >
                                                             Reset
                                                        </button>
                                                        </div>
                                                        
                                                        <!-- Filter Form: Show/Hide based on isFormVisible -->
                                                        <tr *ngIf="isFormVisible">
                                                            <td colspan="2">
                                                            <form [formGroup]="filterForm3" (ngSubmit)="onFilter3()">
                                                                <div class="filter-section">
                                                                <!-- Panchayat Filter -->
                                                                <div class="filter-item">
                                                                    <label for="panchayath" class="filter-label">പഞ്ചായത്ത്</label>
                                                                    <select
                                                                    style="background-color: #fff !important;"
                                                                    id="panchayath"
                                                                    formControlName="panchayath"
                                                                    class="form-control"
                                                                    (change)="onPanchayathChange($event)"
                                                                    >
                                                                    <option value="">പഞ്ചായത്ത്</option>
                                                                    <option *ngFor="let panchayat of panchayats" [value]="panchayat.name">
                                                                        {{ panchayat.name }}
                                                                    </option>
                                                                    </select>
                                                                </div>
                                                                
                                                                <!-- Ward Filter -->
                                                                <div class="filter-item">
                                                                    <label for="ward" class="filter-label">വാർഡ്</label>
                                                                    <select
                                                                    style="background-color: #fff !important;"
                                                                    id="ward"
                                                                    formControlName="ward"
                                                                    class="form-control"
                                                                    >
                                                                    <option value="">വാർഡ്</option>
                                                                    <option *ngFor="let ward of wards1" [value]="ward.name">
                                                                        {{ ward.name }}
                                                                    </option>
                                                                    </select>
                                                                </div>
                                                        
                                                                <!-- Start Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="startDate" class="filter-label">Start Date</label>
                                                                    <input type="date" id="startDate" formControlName="startDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- End Date Filter -->
                                                                <div class="filter-item">
                                                                    <label for="endDate" class="filter-label">End Date</label>
                                                                    <input type="date" id="endDate" formControlName="endDate" [max]="maxDate" class="filter-input" />
                                                                </div>
                                                        
                                                                <!-- Filter Button -->
                                                                <div class="filter-item filter-button">
                                                                    <button type="submit" class="btn btn-filter">Filter</button>
                                                                </div>
                                                                </div>
                                                            </form>
                                                            </td>
                                                        </tr>
                                                        
                                                            <div *ngIf="filteredData3 && filteredData3.length > 0; else noData">
                                                                <!-- Display filtered data in a table -->
                                                                <table class="table table-bordered">
                                                                  <thead>
                                                                    <tr>
                                                                      <th>Sl.No</th>
                                                                      <th>Date</th>
                                                                      <th>പഞ്ചായത്ത്</th>
                                                                      <th>വാർഡ്</th>
                                                                      <!-- Add other columns as needed -->
                                                                    </tr>
                                                                  </thead>
                                                                  <tbody>
                                                                    <tr *ngFor="let item of filteredData3 | paginate: { itemsPerPage: 10, currentPage: page }; let i = index">
                                                                      <td>{{ (page - 1) * itemsPerPage + i + 1 }}</td>
                                                                      <td>{{ item.date | date: 'dd-MM-yyyy' }}</td>
                                                                      <td>{{ item.panchayath_name }}</td>
                                                                      <td>{{item.ward_name}}</td> 
                                                                      <td>
                                                                        <a class="btn1" data-bs-toggle="modal" data-bs-target="#exampleModal1" (click)="wardView(item.id)">Click to view report</a>
                                                                      </td>
                                                                    </tr>
                                                                  </tbody>
                                                                </table>
                                                              </div>
                                                              
                                                              <!-- No data message -->
                                                              <ng-template #noData>
                                                                <p class="text-center text-muted">No data available for the selected date range.</p>
                                                              </ng-template>                                                             
                                                      
                                                        </table>
                                                        <br>@if(length>10){
                                                            <br><br>
                                                            <div  style="width:400px; margin:0 auto;">
                                                              <pagination-controls  (pageChange)="handlePageChange($event)"  ></pagination-controls>     
                                                            </div>
                                              
                                                           }
                                                      </div>
                                                
                                                   </div>
                                            </div>   
                                        }
                                    }
                                    <!-- Button trigger modal -->

  


                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="exampleModalLabel">നിയോജകമണ്ഡലം അവലോകനം </h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <table class="table2" >                        
                                                    <tr >
                                                           <td style="width:50% ">നിയോജകമണ്ഡലം </td>
                                                           <td>: {{panchayath}}                                                                
                                                             </td>
                                                       </tr>                           
                                                       <tr>
                                                           <td>തീയതി</td>
                                                           <td>: {{date | date:'dd-MM-yyyy'}}                                                         </td>
                                                       </tr>
                                                       <tr >
                                                        <td colspan="4" style="font-weight: bold;"> എത്ര.പഞ്ചായത്ത് / മുനിസിപ്പാലിറ്റി / കോർപ്പറേഷൻ</td>
                                                       
                                                       </tr>
                                                       <tr >
                                                        <td style="padding-left:10px !important;font-size:12px">പഞ്ചായത്ത്</td>
                                                        <td>:  {{no_panchayath}}                                             
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">മുനിസിപ്പാലിറ്റി</td>
                                                        <td>:  {{no_of_municipality}}                                                 
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">കോർപ്പറേഷൻ</td>
                                                        <td>: {{no_of_corporation}}                                                  
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">വാർഡ്</td>
                                                        <td>:  {{no_ward}}                                                 
                                                       </tr>

                                                      
                                                       <tr>
                                                           <td colspan="4" style="font-weight: bold;">എത്ര കമ്മിറ്റികൾ രൂപീകരിച്ചു</td>       
                                                           
                                                       </tr>
                                                       <tr >
                                                        <td style="padding-left:10px !important;font-size:12px">പഞ്ചായത്ത്</td>
                                                        <td>:  {{no_of_committees_panchayath}}                                             
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">മുനിസിപ്പാലിറ്റി</td>
                                                        <td>:  {{no_of_committees_municipality}}                                                 
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">കോർപ്പറേഷൻ</td>
                                                        <td>: {{no_of_committees_corporation}}                                                  
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">വാർഡ്</td>
                                                        <td>:  {{no_of_committees_ward}}                                                 
                                                       </tr>




                                                       <tr>
                                                        <td colspan="4" style="font-weight: bold;"> കോർഡിനേറ്റർമാരുടെ എണ്ണം</td>       
                                                        
                                                       </tr>
                                                       <tr >
                                                        <td style="padding-left:10px !important;font-size:12px">പഞ്ചായത്ത്</td>
                                                        <td>:  {{no_of_coordinators_in_panchayath}}                                             
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">മുനിസിപ്പാലിറ്റി</td>
                                                        <td>:  {{no_of_municipality}}                                                 
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">കോർപ്പറേഷൻ</td>
                                                        <td>: {{no_of_coordinators_in_municipality}}                                                  
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">വാർഡ്</td>
                                                        <td>:  {{no_of_coordinators_in_ward}}                                                 
                                                       </tr>



                                                       <tr>
                                                        <td colspan="4" style="font-weight: bold;"> ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ</td>       
                                                        
                                                       </tr>
                                                       <tr >
                                                        <td style="padding-left:10px !important;font-size:12px">പഞ്ചായത്ത്</td>
                                                        <td>:  {{ward_committees_added_in_corporation}}                                             
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">മുനിസിപ്പാലിറ്റി</td>
                                                        <td>:  {{ward_committees_added_in_municipality}}                                                 
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">കോർപ്പറേഷൻ</td>
                                                        <td>: {{ward_committees_added_in_panchayath}}                                                  
                                                       </tr>
                                                       <tr>
                                                        <td style="padding-left:10px !important;font-size:12px">വാർഡ്</td>
                                                        <td>:  {{ward_committees_added_in_ward}}                                                 
                                                       </tr>


                                                      
                                                       <tr>
                                                           <td style="font-weight: bold;"> സന്ദർശിച്ച വീടുകളുടെ എണ്ണം</td>
                                                           <td>: {{no_of_houses_visited}}</td>
                                                       </tr>
                                                       <tr>
                                                        <td style="font-weight: bold;"> മണ്ഡലം ഓഫീസ് (ഉണ്ട്/ഇല്ല)</td>
                                                        <td>: {{has_mandalam_office}}</td>
                                                    </tr>
                                                       <tr>
                                                           <td colspan="2"><b>നടത്തിയ പ്രവർത്തനങ്ങൾ</b></td>                                                           
                                                          
                                                               </tr>
                                                               <tr><td colspan="2">
                                                                <ul style="margin-left:20px">
                                                                   
                                                                    <li *ngFor="let activity of activity">
                                                                        {{activity}}
                                                                      </li>
                                                                  </ul>
                                                               </td></tr>
                                                       <tr>
                                                           <td colspan="2"><b>മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</b></td>                                                           
                                                     </tr>
                                                      
                                                            <tr >
                                                            <td style="padding-left:10px !important;font-size:12px">മണ്ഡലം</td>
                                                            <td>:  {{is_meeting_conducted_in_constituency}}                                             
                                                            </tr>
                                                            <tr>
                                                            <td style="padding-left:10px !important;font-size:12px">പഞ്ചായത്ത്</td>
                                                            <td>:  {{is_meeting_conducted_in_panchayath}}                                                 
                                                            </tr>
                                                            <tr>
                                                                <td style="padding-left:10px !important;font-size:12px">കോർപ്പറേഷൻ</td>
                                                                <td>: {{is_meeting_conducted_in_corporation}}                                                  
                                                                </tr>
                                                            <tr>
                                                            <td style="padding-left:10px !important;font-size:12px">മുനിസിപ്പാലിറ്റി</td>
                                                            <td>: {{is_meeting_conducted_in_muncipality}}                                                  
                                                            </tr>
                                                            <tr>
                                                            <td style="padding-left:10px !important;font-size:12px">വാർഡ്</td>
                                                            <td>:  {{is_meeting_conducted_in_ward}}                                                 
                                                            </tr>
                                                       
                                                        @if(is_meeting_conducted_in_constituency=='ഇല്ല' ||this.is_meeting_conducted_in_corporation=='ഇല്ല' ||is_meeting_conducted_in_muncipality=='ഇല്ല' ||is_meeting_conducted_in_panchayath=='ഇല്ല' ||is_meeting_conducted_in_ward=="ഇല്ല"){
                                                       <tr>
                                                           <td colspan="2"><b>ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?:</b></td>
                                                          
                                                           
                                                       </tr> 
                                                       <tr> <td> {{this.meeting_not_conducted_reason}}</td></tr>
                                                   }
                                                       <tr>
                                                           <td colspan="2"><b>വാർഡ് പഞ്ചായത്ത് മണ്ഡലം റിപ്പോർട്ടിംഗ് </b></td>
                                                          
                                                       </tr>
                                                       
                                                      <tr> <td colspan="2" style="margin-left:20px"> {{ward_panchayath_mandalam_reporting }} </td></tr>
                                                   </table>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ok</button> 
                                            </div>
                                        </div>
                                        </div>
                                    </div>


                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
                                        <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="exampleModalLabel"> പഞ്ചായത്ത് അവലോകനം </h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <table class="table2" style="margin:0" >                        
                                                    <tr>
                                                        <td style="width:50% ">പഞ്ചായത്തിൻ്റെ പേര് </td>
                                                        <td>: {{panchayath}}                                                                
                                                            </td>
                                                    </tr>                           
                                                    <tr>
                                                        <td>തീയതി</td>
                                                        <td>: {{date | date:'dd-MM-yyyy'}}                                                         </td>
                                                    </tr>
                                                    <tr>
                                                        <td> വാർഡുകളുടെ എണ്ണം</td>
                                                        <td>: {{wards}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>എത്ര വാർഡ് കമ്മിറ്റികൾ രൂപീകരിച്ചു</td>       
                                                            <td>: {{  this.committee}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td>ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ </td>
                                                        <td>: {{this.month}}
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td> എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു</td>
                                                        <td>: {{this.visited}}</td>
                                                    </tr>
                                                    
                                                    <tr>
                                                        <td colspan="2"><b>പ്രവർത്തനങ്ങൾ നടത്തിയത്</b></td>                                                           
                                                        
                                                            </tr>
                                                            <tr><td colspan="2">
                                                                <ul style="margin-left:20px">
                                                                
                                                                    <li *ngFor="let activity of activity">
                                                                        {{ activity }}
                                                                    </li>
                                                                </ul>
                                                            </td></tr>
                                                    <tr>
                                                        <td><b></b>മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</td>
                                                        <td>: {{this.meeting}}
                                                    </td>
                                                    </tr>
                                                    @if(this.meeting=='ഇല്ല'){
                                                    <tr>
                                                        <td colspan="2"><b>ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?
                                                            :</b></td>
                                                        
                                                        
                                                    </tr>
                                                    <tr> <td colspan="2"> {{this.reason}}</td></tr>
                                                } 
                                                    <tr>
                                                        <td colspan="2" ><b>വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ്
                                                        </b></td>
                                                        
                                                    </tr>
                                                    
                                                    <tr> <td colspan="2" style="margin-left:20px"> {{this.report}} </td></tr>
                                                </table>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ok</button> 
                                            </div>
                                        </div>
                                        </div>
                                    </div>

                                    
                                    <!-- Modal -->
                                    <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
                                        <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                            <h1 class="modal-title fs-5" id="exampleModalLabel">വാർഡ് അവലോകനം</h1>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                              
                                                <table class="table2" style="margin: 0;" >  
                                                    <tr>
                                                        <td style="width:50% ">വാർഡിൻ്റെ പേര് </td>
                                                        <td>: {{ward}}                                                                
                                                          </td>
                                                    </tr>                      
                                                    <tr>
                                                           <td>പഞ്ചായത്തിൻ്റെ പേര് </td>
                                                           <td>:  {{panchayath}}                                                                
                                                             </td>
                                                       </tr>                           
                                                       <tr>
                                                           <td>തീയതി</td>
                                                           <td>: {{date | date:'dd-MM-yyyy'}}                                                         </td>
                                                       </tr>
                                                      
                                                       <tr>
                                                           <td> എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു</td>
                                                           <td>: {{this.visited}}</td>
                                                       </tr>
                                                      
                                                       <tr>
                                                        <td colspan="2"><b>പ്രവർത്തനങ്ങൾ നടത്തിയത്</b></td>                                                            
                                                          
                                                               </tr>
                                                               <tr><td colspan="2">
                                                                <ul style="margin-left:20px">
                                                                   
                                                                    <li *ngFor="let activity of activity">
                                                                        {{ activity }}
                                                                      </li>
                                                                  </ul>
                                                               </td></tr>
                                                       <tr>
                                                        <td><b></b>മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</td>
                                                           <td>: {{this.meeting}}
                                                       </td>
                                                       </tr>
                                                       @if(this.meeting=='ഇല്ല'){
                                                        <tr>
                                                            <td colspan="2"><b>ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?
                                                                :</b></td>
                                                            
                                                            
                                                        </tr>
                                                        <tr> <td colspan="2"> {{this.reason}}</td></tr>
                                                    } 
                                                       <tr>
                                                           <td colspan="2"><b>വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ് </b></td>
                                                          
                                                       </tr>
                                                       
                                                      <tr> <td colspan="2" style="margin-left:20px"> {{this.report}} </td></tr>
                                                   </table>
                                                   
                                                    
                                            </div>
                                            <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ok</button> 
                                            <!-- <button type="button"  class="btn-close" class="btn btn-primary">Ok</button> -->
                                            </div>
                                        </div>
                                        </div>
                                    </div>




                       
                    </div> 
                }
                @if(this.userRole!='user'){
                    <input class="input" name="tabs" type="radio" id="tab-7"/>
                    <label class="label" for="tab-7">ഫോം</label>
                    <div class="panel">
                      
                            @if(this.userRole=='ward_president'){
                                <h6 style="text-align: center !important;"> വാർഡ് കമ്മിറ്റീ അവലോകന ഫോം</h6><hr>
                                <form [formGroup]="wardform" (ngSubmit)="wardReport()">
                                    <div class="table-responsive">
                                    <table class="table1">
                                        <tr>
                                            <td><label for="wardName">വാർഡിൻ്റെ പേര്</label></td>
                                            <td><input type="text" id="wardName" name="wardName"  formControlName="wardName"  [ngModel]="wardname" readonly></td>
                                        </tr>
                                        <tr>
                                            <td><label for="panchayathName">പഞ്ചായത്തിൻ്റെ പേര്</label></td>
                                            <td>
                                                <input 
                                                  type="text" 
                                                  id="panchayathName" 
                                                  name="panchayathName" 
                                                  formControlName="panchayathName" 
                                                 [ngModel]="panchayath"
                                                  readonly
                                                >                                   
                                              </td>
                                        </tr>
                                        <tr>
                                            <td><label for="date">തീയതി (DD-MM-YYYY)</label></td>
                                            <td>
                                                <input 
                                                  type="date" 
                                                  id="date"  [max]="maxDate"
                                                  name="date" 
                                                  formControlName="date" style="width:200px"
                                                  required
                                                >
                                                <div *ngIf="wardform.get('date')?.hasError('required') && wardform.get('date')?.touched" class="error">
                                                  ദയവായി തീയതി നൽകുക
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label for="no_houses_visited">എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു
                                            </label></td>
                                            <td>
                                                <input 
                                                  type="text" 
                                                  id="no_houses_visited" 
                                                  name="no_houses_visited"  
                                                  formControlName="no_houses_visited" 
                                                  required
                                                >
                                                <div *ngIf="wardform.get('no_houses_visited')?.hasError('required') && wardform.get('no_houses_visited')?.touched" class="error">
                                                  ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു എണ്ണം നൽകുക
                                                </div>
                                                <div *ngIf="wardform.get('no_houses_visited')?.hasError('pattern') && wardform.get('no_houses_visited')?.touched" class="error">
                                                  ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു  എണ്ണം നൽകുക
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label for="meetingConducted">മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</label></td>
                                            <td>
                                                <div class="radio-group">
                                                    <input 
                                                      type="radio" 
                                                      id="yesMeeting" 
                                                      name="meetingConducted" 
                                                      value="ഉണ്ട്" 
                                                      formControlName="meeting_conducted" 
                                                      required
                                                    >
                                                    <label for="yesMeeting">ഉണ്ട്</label>
                                                    <input 
                                                      type="radio" 
                                                      id="noMeeting" 
                                                      name="meetingConducted" 
                                                      value="ഇല്ല" 
                                                      formControlName="meeting_conducted" 
                                                      required
                                                    >
                                                    <label for="noMeeting">ഇല്ല</label>
                                                </div>
                                                <div *ngIf="wardform.get('meeting_conducted')?.hasError('required') && wardform.get('meeting_conducted')?.touched" class="error">
                                                  ദയവായി യോഗം നടത്തിയോ എന്ന് തിരഞ്ഞെടുക്കുക
                                                </div>
                                            </td>
                                        </tr>
                                        @if(wardform.value.meeting_conducted=='ഇല്ല'){
                                            <tr>
                                                <td><label for="reason">ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?</label></td>
                                                <td>
                                                    <textarea 
                                                      id="reason" 
                                                      name="reason" 
                                                      formControlName="reason" 
                                                      rows="4" 
                                                      cols="50"
                                                    ></textarea>
                                                    <div *ngIf="wardform.get('reason')?.hasError('required') && wardform.get('reason')?.touched" class="error">
                                                      ദയവായി ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ? നൽകുക
                                                    </div>
                                                </td>
                                            </tr>
                                        }
                                        
                                        <tr>
                                            <td><label for="ward_wise_reporting">വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ്
                                            </label></td>
                                            <td>
                                                <textarea 
                                                  id="ward_wise_reporting" 
                                                  name="ward_wise_reporting" 
                                                  formControlName="ward_wise_reporting" 
                                                  rows="4" 
                                                  cols="50" 
                                                  required
                                                ></textarea>
                                                <div *ngIf="wardform.get('ward_wise_reporting')?.hasError('required') && wardform.get('ward_wise_reporting')?.touched" class="error">
                                                  ദയവായി വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ് നൽകുക
                                                </div>
                                                <div *ngIf="wardform.get('ward_wise_reporting')?.hasError('pattern') && wardform.get('ward_wise_reporting')?.touched" class="error">
                                                  ദയവായി വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ് നൽകുക
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label for="activities_conducted">പ്രവർത്തനങ്ങൾ നടത്തിയത്</label></td>
                                            <td>
                                                
                                                <div formArrayName="activitiesConducted">
                                                    <div *ngFor="let activityControl of activitiesArray.controls; let i = index" [formGroupName]="i">
                                                      <textarea formControlName="activity" placeholder="പ്രവർത്തനങ്ങൾ"></textarea>
                                                    </div>
                                                  </div>
                                                
                                                  <button type="button" (click)="addTextArea()"> + പ്രവർത്തനങ്ങൾ നൽകുന്നതിന്</button>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td>
                                                <input type="submit" value="Submit">
                                            </td>
                                        </tr>
                                    </table>
                                    @if (this.msg) {
                                        <div  class="alert alert-success" role="alert">
                                           <p >{{this.msg}}</p>
                                         </div>
                                       }
                                       @if (this.errorMsg){
                                         <div class="alert alert-danger" role="alert">
                                           <p >{{this.errorMsg}}</p>
                                         </div>
                                       }
                                       </div>
                                </form>
                                
                            }
                            @if(this.userRole=='panchayath_president'){
                            <h6 style="text-align: center !important;">പഞ്ചായത്ത് കമ്മിറ്റീ അവലോകന ഫോം</h6><hr>
                            <form [formGroup]="panchayathform" (submit)="panchayathReport()">
                                <div class="table-responsive">
                            <table class="table1">                        
                             <tr>
                                    <td><label for="wardName">പഞ്ചായത്തിൻ്റെ പേര്</label></td>
                                    <td>
                                        <input 
                                          type="text" 
                                          id="panchayathName" 
                                          name="panchayathName" 
                                          formControlName="panchayathName" 
                                          [ngModel]="panchayath"
                                          readonly
                                        >                                   
                                        <!-- <div *ngIf="wardform.get('panchayathName')?.hasError('required') && wardform.get('panchayathName')?.touched" class="error">
                                          ദയവായി പഞ്ചായത്ത്‌യുടെ പേര് നൽകുക.
                                        </div> -->
                                      </td>
                                </tr>                           
                                <tr>
                                    <td><label for="date">തീയതി (DD-MM-YYYY)</label></td>
                                    <td><input type="date" id="date" [max]="maxDate" name="date" formControlName="date" style="width:200px" required>
                                        @if(this.panchayathform.get('date')?.hasError('required')&&this.panchayathform.get('date')?.touched){
                                            <div class="error" >ദയവായി തീയതി നൽകുക</div>
                                          }
                                    </td>
                                </tr>
                                <tr>
                                    <td> <label for="housesVisited">വാർഡുകളുടെ എണ്ണം</label></td>
                                    <td><input type="text" id="no_wards" name="no_wards" formControlName="no_wards" [(ngModel)]="total_ward_count" required>
                                         @if(this.panchayathform.get('no_wards')?.hasError('required')&&this.panchayathform.get('no_wards')?.touched){
                                            <div class="error" >ദയവായി വാർഡുകളുടെ എണ്ണം നൽകുക</div>
                                          }@else if (this.panchayathform.get('no_wards')?.hasError('pattern')) {
                                            <div class="error" >ദയവായി വാർഡുകളുടെ എണ്ണം നൽകുക</div>
                                          } 
                                    </td>
                                </tr>
                                <tr>
                                    <td> <label for="housesVisited">എത്ര വാർഡ് കമ്മിറ്റികൾ രൂപീകരിച്ചു</label></td>
                                    <td><input type="text" id="no_wards_committees_appointed" name="no_wards_committees_appointed" formControlName="no_wards_committees_appointed" required>
                                        @if(this.panchayathform.get('no_wards_committees_appointed')?.hasError('required')&&this.panchayathform.get('no_wards_committees_appointed')?.touched){
                                            <div class="error" >ദയവായി  വാർഡ് കമ്മിറ്റി എണ്ണം നൽകുക</div>
                                          }@else if (this.panchayathform.get('no_wards_committees_appointed')?.hasError('pattern')) {
                                            <div class="error" >ദയവായി വാർഡ് കമ്മിറ്റി എണ്ണം നൽകുക</div>
                                          }
                                    </td>
                                </tr>
                                <tr>
                                    <td> <label for="ward_committee_added_this_month">ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ</label></td>
                                    <td><input type="text" id="ward_committee_added_this_month" name="ward_committee_added_this_month" formControlName="ward_committee_added_this_month" required>
                                        @if(this.panchayathform.get('ward_committee_added_this_month')?.hasError('required')&&this.panchayathform.get('ward_committee_added_this_month')?.touched){
                                            <div class="error" >ദയവായി ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ എണ്ണം നൽകുക</div>
                                          }@else if (this.panchayathform.get('ward_committee_added_this_month')?.hasError('pattern')) {
                                            <div class="error" >ദയവായി ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ എണ്ണം നൽകുക</div>
                                          }
                                    </td>
                                </tr>
                                <tr>
                                    <td> <label for="housesVisited">എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു</label></td>
                                    <td><input type="text" id="no_houses_visited" name="no_houses_visited"  formControlName="no_houses_visited" [(ngModel)]="no_of_house_visited" required>
                                         @if(this.panchayathform.get('no_houses_visited')?.hasError('required')&&this.panchayathform.get('no_houses_visited')?.touched){
                                            <div class="error" >ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു എണ്ണം നൽകുക</div>
                                          }@else if (this.panchayathform.get('no_houses_visited')?.hasError('pattern')) {
                                            <div class="error" >ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു എണ്ണം നൽകുക</div>
                                          }
                                        </td>
                                </tr>
                               
                                <tr>
                                    <td><label for="activities_conducted">പ്രവർത്തനങ്ങൾ നടത്തിയത്</label></td>
                                    <td>
                                        <div formArrayName="activitiesConducted">
                                            <div *ngFor="let activityControl of activitiesArray1.controls; let i = index" [formGroupName]="i">
                                              <textarea formControlName="activity" placeholder="പ്രവർത്തനങ്ങൾ"></textarea>
                                            </div>
                                          </div>
                                        
                                          <button type="button" (click)="addTextArea1()">+ പ്രവർത്തനങ്ങൾ നൽകുന്നതിന്</button>
                                </tr>
                                <tr>
                                    <td> <label for="meetingConducted">മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</label></td>
                                    <td> <div class="radio-group">
                                        <input type="radio" id="yesMeeting" name="meetingConducted" value="ഉണ്ട്" formControlName="meeting_conducted" required>
                                        <label for="yesMeeting">ഉണ്ട്</label>
                                        <input type="radio" id="noMeeting" name="meetingConducted" value="ഇല്ല" formControlName="meeting_conducted" required>
                                        <label for="noMeeting">ഇല്ല</label>
                                    </div>
                                    @if(this.panchayathform.get('meeting_conducted')?.hasError('required')&&this.panchayathform.get('meeting_conducted')?.touched){
                                        <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് തിരഞ്ഞെടുക്കുക</div>
                                      }
                                </td>
                                </tr>
                                @if(this.panchayathform.value.meeting_conducted=='ഇല്ല'){
                                <tr>
                                    <td><label for="noMeetingReason">ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?
                                    </label></td>
                                    <td><textarea id="reason" name="reason" formControlName="reason" rows="4" cols="50"></textarea>
                                        @if(this.panchayathform.get('reason')?.hasError('required')&&this.panchayathform.get('reason')?.touched){
                                            <div class="error" >ദയവായി ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?  നൽകുക</div>
                                          }
                                    </td>
                                </tr>
                            } 
                                <tr>
                                    <td><label for="report">വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ്</label></td>
                                    <td><textarea id="ward_wise_reporting" name="ward_wise_reporting" formControlName="ward_wise_reporting" rows="4" cols="50" required></textarea>
                                        @if(this.panchayathform.get('ward_wise_reporting')?.hasError('required')&&this.panchayathform.get('ward_wise_reporting')?.touched){
                                            <div class="error" >ദയവായി വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ് നൽകുക</div>
                                          }@else if (this.panchayathform.get('ward_wise_reporting')?.hasError('pattern')) {
                                            <div class="error" >ദയവായി വാർഡ് തിരിച്ച് റിപ്പോർട്ടിംഗ്  നൽകുക</div>
                                          }</td>
                                </tr>
                                <tr>
                                    <td></td>
                                    <td> <input type="submit" value="Submit"></td>
                                </tr>
                            </table>
                            @if (this.msg) {
                                <div  class="alert alert-success" role="alert">
                                   <p >{{this.msg}}</p>
                                 </div>
                               }
                               @if (this.errorMsg){
                                 <div class="alert alert-danger" role="alert">
                                   <p >{{this.errorMsg}}</p>
                                 </div>
                               }
                               </div>
                            </form>
                            }
                            @if(this.userRole=='constituency_president'){
                                <h6 style="text-align: center !important;">മണ്ഡലം കമ്മിറ്റീ അവലോകന ഫോം</h6><hr>
                                <form [formGroup]="mandalamform" (submit)="mandalamReport()">
                                    <div class="table-responsive">
                                    <table class="table1">                        
                                     <tr>
                                            <td><label for="mandalamName">നിയോജകമണ്ഡലം</label></td>
                                            <td>
                                                <input 
                                                  type="text" 
                                                  id="mandalamName" 
                                                  name="mandalamName" 
                                                  formControlName="mandalamName" 
                                                  [ngModel]="this.userDetails.constituency"
                                                  readonly
                                                >                                  
                                              
                                              </td>
                                        </tr>                           
                                        <tr>
                                            <td><label for="date">തീയതി (DD-MM-YYYY)</label></td>
                                            <td><input type="date" id="date" [max]="maxDate" name="date" formControlName="date" style="width:200px" required>
                                                @if(this.mandalamform.get('date')?.hasError('required')&&this.mandalamform.get('date')?.touched){
                                                    <div class="error" >ദയവായി തീയതി നൽകുക</div>
                                                  }
                                            </td>
                                        </tr>
                                        <tr>
                                            <td rowspan="2">എത്ര.പഞ്ചായത്ത് / മുനിസിപ്പാലിറ്റി / കോർപ്പറേഷൻ</td>
                                            <td> <tr style="border:1px solid #000">
                                                   
                                                <th>
                                                    <input type="text" value="പഞ്ചായത്ത്" readonly style="border: none;text-align: center;">
                                                   </th>
                                                   <td >
                                                    <input type="text" value="മുനിസിപ്പാലിറ്റി" readonly style="border: none;text-align: center;">
                                                   </td>
                                                   <td >
                                                    <input type="text" value="കോർപ്പറേഷൻ" readonly style="border: none;text-align: center;" >
                                                   </td>
                                                   <td >
                                                    <input type="text" value="വാർഡ്" readonly style="border: none;text-align: center;">
                                                   </td>                                                  
                                            </tr></td>
                                           
                                         
                                          </tr>
                                          
                                     
                                     
                                        <tr>
                                           
                                            <td>                                                
                                                <tr>                                                  
                                                    <td>
                                                        <input type="text" id="no_of_panchayath" name="no_of_panchayath"  formControlName="no_of_panchayath" value="{{total_panchayath_count}}" required>
                                                        @if(this.mandalamform.get('no_of_panchayath')?.hasError('required')&& this.mandalamform.get('no_of_panchayath')?.touched){
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }@else if (this.mandalamform.get('no_of_panchayath')?.hasError('pattern')) {
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td>
                                                        <input type="text" id="no_of_municipality" name="no_of_municipality"  formControlName="no_of_municipality"  value={{total_municipality_count}} required>
                                                       @if(this.mandalamform.get('no_of_municipality')?.hasError('required')&& this.mandalamform.get('no_of_municipality')?.touched){
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }@else if (this.mandalamform.get('no_of_municipality')?.hasError('pattern')) {
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          } 
                                                    </td>
                                                   
                                                    <td>
                                                        <input type="text" id="no_of_corporation" name="no_of_corporation"  formControlName="no_of_corporation" value={{total_corporation_count}} required>
                                                        @if(this.mandalamform.get('no_of_corporation')?.hasError('required')&& this.mandalamform.get('no_of_corporation')?.touched){
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }@else if (this.mandalamform.get('no_of_corporation')?.hasError('pattern')) {
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td>
                                                        <input type="text" id="no_of_ward" name="no_of_ward"  formControlName="no_of_ward" value={{total_ward_count}} required>
                                                         @if(this.mandalamform.get('no_of_ward')?.hasError('required')&& this.mandalamform.get('no_of_ward')?.touched){
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }@else if (this.mandalamform.get('no_of_ward')?.hasError('pattern')) {
                                                            <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                          }
                                                    </td>
                                                </tr>
                                              </td>
                                            
                                        </tr>
                                        <tr>
                                            <td> <label for="">എത്ര കമ്മിറ്റികൾ രൂപീകരിച്ചു</label></td>
                                           <td>
                                            <tr>
                                                  
                                                <td >
                                                    <input type="text" id="no_of_committees_panchayath" name="no_of_committees_panchayath"  formControlName="no_of_committees_panchayath" required>
                                                      @if(this.mandalamform.get('no_of_committees_panchayath')?.hasError('required')&& this.mandalamform.get('no_of_committees_panchayath')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_committees_panchayath')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                                <td>
                                                    <input type="text" id="no_of_committees_municipality" name="no_of_committees_municipality"  formControlName="no_of_committees_municipality" required>
                                                      @if(this.mandalamform.get('no_of_committees_municipality')?.hasError('required')&& this.mandalamform.get('no_of_committees_municipality')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_committees_municipality')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                                <td>
                                                    <input type="text" id="no_of_committees_corporation" name="no_of_committees_corporation"  formControlName="no_of_committees_corporation" required>
                                                      @if(this.mandalamform.get('no_of_committees_corporation')?.hasError('required')&& this.mandalamform.get('no_of_committees_corporation')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_committees_corporation')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                                <td>
                                                    <input type="text" id="no_of_committees_ward" name="no_of_committees_ward"  formControlName="no_of_committees_ward" required>
                                                      @if(this.mandalamform.get('no_of_committees_ward')?.hasError('required')&& this.mandalamform.get('no_of_committees_ward')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_committees_ward')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                            </tr>
                                           </td>
                                        </tr>
                                        <tr>
                                            <td> <label for="housesVisited">കോർഡിനേറ്റർമാരുടെ എണ്ണം</label></td>
                                            <td><tr>                                                  
                                                <td>
                                                    <input type="text" id="no_of_coordinators_in_panchayath" name="no_of_coordinators_in_panchayath"  formControlName="no_of_coordinators_in_panchayath"  required>
                                                      @if(this.mandalamform.get('no_of_coordinators_in_panchayath')?.hasError('required')&& this.mandalamform.get('no_of_coordinators_in_panchayath')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_coordinators_in_panchayath')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                
                                                </td>
                                                <td>
                                                    <input type="text" id="no_of_coordinators_in_municipality" name="no_of_coordinators_in_municipality"  formControlName="no_of_coordinators_in_municipality" required>
                                                      @if(this.mandalamform.get('no_of_coordinators_in_municipality')?.hasError('required')&& this.mandalamform.get('no_of_coordinators_in_municipality')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_coordinators_in_municipality')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>                                                
                                                <td>
                                                    <input type="text" id="no_of_coordinators_in_corporation" name="no_of_coordinators_in_corporation"  formControlName="no_of_coordinators_in_corporation" required>
                                                      @if(this.mandalamform.get('no_of_coordinators_in_corporation')?.hasError('required')&& this.mandalamform.get('no_of_coordinators_in_corporation')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_coordinators_in_corporation')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                               
                                                <td>
                                                    <input type="text" id="no_of_coordinators_in_ward" name="no_of_coordinators_in_ward"  formControlName="no_of_coordinators_in_ward" required>
                                                      @if(this.mandalamform.get('no_of_coordinators_in_ward')?.hasError('required')&& this.mandalamform.get('no_of_coordinators_in_ward')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('no_of_coordinators_in_ward')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                            </tr>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td> <label for="">ഈ മാസം രൂപീകരിച്ച വാർഡ് കമ്മിറ്റികൾ</label></td>
                                            <td><tr>
                                                  
                                                <td>
                                                    <input type="text" id="ward_committees_added_in_panchayath" name="ward_committees_added_in_panchayath"  formControlName="ward_committees_added_in_panchayath" [(ngModel)]="total_count_of_wardCommittee_in_panchayath" required>
                                                    @if(this.mandalamform.get('ward_committees_added_in_panchayath')?.hasError('required')&& this.mandalamform.get('ward_committees_added_in_panchayath')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('ward_committees_added_in_panchayath')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      } 
                                                </td>
                                                <td>
                                                    <input type="text" id="ward_committees_added_in_corporation " name="ward_committees_added_in_corporation"  formControlName="ward_committees_added_in_corporation" [(ngModel)]="total_count_of_wardCommittee_in_corporation"  required>
                                                      @if(this.mandalamform.get('ward_committees_added_in_corporation')?.hasError('required')&& this.mandalamform.get('ward_committees_added_in_corporation')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('ward_committees_added_in_corporation')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }
                                                </td>
                                                <td>
                                                    <input type="text" id="ward_committees_added_in_municipality" name="ward_committees_added_in_municipality"  formControlName="ward_committees_added_in_municipality" [(ngModel)]="total_count_of_wardCommittee_in_municipality" required>
                                                     @if(this.mandalamform.get('ward_committees_added_in_municipality')?.hasError('required')&& this.mandalamform.get('ward_committees_added_in_municipality')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('ward_committees_added_in_municipality')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      } 
                                                </td>
                                                <td>
                                                    <input type="text" id="ward_committees_added_in_ward" name="ward_committees_added_in_ward"  formControlName="ward_committees_added_in_ward"  [(ngModel)]="total_count_of_wardCommittee_in_ward" required>
                                                     @if(this.mandalamform.get('ward_committees_added_in_ward')?.hasError('required')&& this.mandalamform.get('ward_committees_added_in_ward')?.touched){
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      }@else if (this.mandalamform.get('ward_committees_added_in_ward')?.hasError('pattern')) {
                                                        <div class="error" >ദയവായി എണ്ണം  നൽകുക</div>
                                                      } 
                                                </td>
                                            </tr>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td> <label for="no_of_houses_visited ">എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു</label></td>
                                            <td><input type="text" id="no_of_houses_visited" name="no_of_houses_visited"  formControlName="no_of_houses_visited" [(ngModel)]="no_of_house_visited" required>
                                                 @if(this.mandalamform.get('no_of_houses_visited ')?.hasError('required')&&this.mandalamform.get('no_of_houses_visited')?.touched){
                                                    <div class="error" >ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു എണ്ണം നൽകുക</div>
                                                  }@else if (this.mandalamform.get('no_of_houses_visited')?.hasError('pattern')) {
                                                    <div class="error" >ദയവായി എത്ര ഭവനങ്ങൾ സന്ദർശിച്ചു  എണ്ണം നൽകുക</div>
                                                  } 
                                                </td>
                                        </tr>
                                        <tr>
                                            <td> <label for="has_mandalam_office">മണ്ഡലം ഓഫീസ് (ഉണ്ട്/ഇല്ല)</label></td>
                                            <td> <div class="radio-group">
                                                <input type="radio" id="has_mandalam_office" name="has_mandalam_office" value="ഉണ്ട്" formControlName="has_mandalam_office" required>
                                                <label for="yesMeeting">ഉണ്ട്</label>
                                                <input type="radio" id="has_mandalam_office" name="has_mandalam_office" value="ഇല്ല" formControlName="has_mandalam_office" required>
                                                <label for="noMeeting">ഇല്ല</label>
                                            </div>
                                             @if(this.mandalamform.get('has_mandalam_office')?.hasError('required')&&this.mandalamform.get('has_mandalam_office')?.touched){
                                                <div class="error" >ദയവായി മണ്ഡലം ഓഫീസ് (ഉണ്ട്/ഇല്ല) തിരഞ്ഞെടുക്കുക</div>
                                              }
                                        </td>
                                        </tr>
                                        <tr>
                                            <td><label for="activities_conducted">പ്രവർത്തനങ്ങൾ നടത്തിയത് </label></td>
                                            <td>
                                                <div formArrayName="activitiesConducted">
                                                    <div *ngFor="let activityControl of activitiesArray2.controls; let i = index" [formGroupName]="i">
                                                      <textarea formControlName="activity" placeholder="പ്രവർത്തനങ്ങൾ" rows="1" cols="50"></textarea>
                                                    </div>
                                                  </div>
                                                
                                                  <button type="button" (click)="addTextArea2()"> + പ്രവർത്തനങ്ങൾ </button>
                                        </tr>
                                    
                                        <tr>
                                            <td rowspan="2">മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)</td>
                                            <td> <tr style="border:1px solid #000">
                                                <th>
                                                    <input type="text" value="മണ്ഡലം" readonly style="border: none;text-align: center;">
                                                   </th>
                                                   
                                                <th>
                                                    <input type="text" value="പഞ്ചായത്ത്" readonly style="border: none;text-align: center;">
                                                   </th>
                                                   <td >
                                                    <input type="text" value="മുനിസിപ്പാലിറ്റി" readonly style="border: none;text-align: center;">
                                                   </td>
                                                   <td >
                                                    <input type="text" value="കോർപ്പറേഷൻ" readonly style="border: none;text-align: center;" >
                                                   </td>
                                                   <td >
                                                    <input type="text" value="വാർഡ്" readonly style="border: none;text-align: center;">
                                                   </td>                                                  
                                            </tr></td>
                                           
                                         
                                          </tr>
                                        <tr>
                                          
                                            <td> 
                                               
                                                <tr>
                                                    <td style="width:22%" >
                                                        <select id="is_meeting_conducted_in_constituency" 
                                                        name="is_meeting_conducted_in_constituency" 
                                                        formControlName="is_meeting_conducted_in_constituency">
                                                        <option value="" disabled selected hidden>തിരഞ്ഞെടുക്കുക</option>
                                                        <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                        <option value="ഇല്ല">ഇല്ല</option>
                                                      </select>
                                                        <!-- <input type="text" id="is_meeting_conducted_in_panchayath " name="is_meeting_conducted_in_panchayath"  formControlName="is_meeting_conducted_in_panchayath" required> -->
                                                        @if(this.mandalamform.get('is_meeting_conducted_in_panchayath ')?.hasError('required')&&this.mandalamform.get('is_meeting_conducted_in_panchayath')?.touched){
                                                            <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)  നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td style="width:20%" >
                                                        <select id="is_meeting_conducted_in_panchayath" 
                                                        name="is_meeting_conducted_in_panchayath" 
                                                        formControlName="is_meeting_conducted_in_panchayath">
                                                        <option value="" disabled selected hidden>തിരഞ്ഞെടുക്കുക</option>
                                                        <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                        <option value="ഇല്ല">ഇല്ല</option>
                                                      </select>
                                                        <!-- <input type="text" id="is_meeting_conducted_in_panchayath " name="is_meeting_conducted_in_panchayath"  formControlName="is_meeting_conducted_in_panchayath" required> -->
                                                        @if(this.mandalamform.get('is_meeting_conducted_in_panchayath ')?.hasError('required')&&this.mandalamform.get('is_meeting_conducted_in_panchayath')?.touched){
                                                            <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)  നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td >
                                                        <select id="is_meeting_conducted_in_corporation" 
                                                        name="is_meeting_conducted_in_corporation" 
                                                        formControlName="is_meeting_conducted_in_corporation">
                                                        <option value="" disabled selected hidden>തിരഞ്ഞെടുക്കുക</option>
                                                        <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                        <option value="ഇല്ല">ഇല്ല</option>
                                                      </select>
                                                        <!-- <input type="text" id="is_meeting_conducted_in_corporation" name="is_meeting_conducted_in_corporation"  formControlName="is_meeting_conducted_in_corporation" required> -->
                                                        @if (this.mandalamform.get('is_meeting_conducted_in_corporation')?.hasError('required')&&this.mandalamform.get('is_meeting_conducted_in_corporation')?.touched){
                                                            <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല) നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td >
                                                        <select id="is_meeting_conducted_in_municipality" 
                                                        name="is_meeting_conducted_in_municipality" 
                                                        formControlName="is_meeting_conducted_in_municipality">
                                                        <option value="" disabled selected hidden>തിരഞ്ഞെടുക്കുക</option>
                                                        <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                        <option value="ഇല്ല">ഇല്ല</option>
                                                      </select>
                                                        <!-- <input type="text" id="is_meeting_conducted_in_municipality" name="is_meeting_conducted_in_municipality"  formControlName="is_meeting_conducted_in_municipality" required> -->
                                                        @if (this.mandalamform.get('is_meeting_conducted_in_municipality')?.hasError('required')&&this.mandalamform.get('is_meeting_conducted_in_municipality')?.touched){
                                                            <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)  നൽകുക</div>
                                                          }
                                                    </td>
                                                    <td  >
                                                        <select id="is_meeting_conducted_in_ward" 
                                                        name="is_meeting_conducted_in_ward" 
                                                        formControlName="is_meeting_conducted_in_ward">
                                                        <option value="" disabled selected hidden>തിരഞ്ഞെടുക്കുക</option>
                                                        <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                        <option value="ഇല്ല">ഇല്ല</option>
                                                      </select>
                                                        <!-- <input type="text" id="is_meeting_conducted_in_ward" name="is_meeting_conducted_in_ward"  formControlName="is_meeting_conducted_in_ward" required> -->
                                                        @if (this.mandalamform.get('is_meeting_conducted_in_ward')?.hasError('required')&&this.mandalamform.get('is_meeting_conducted_in_ward')?.touched){
                                                            <div class="error" >ദയവായി മീറ്റിംഗുകൾ നടന്നത് (ഉണ്ട്/ഇല്ല)  നൽകുക</div>
                                                          }
                                                    </td>
                                                </tr>
                                              </td>
                                            
                                        </tr>


                                        @if(this.mandalamform.value.is_meeting_conducted_in_panchayath=='ഇല്ല' && 
                                            this.mandalamform.value.is_meeting_conducted_in_corporation=='ഇല്ല' &&
                                            this.mandalamform.value.is_meeting_conducted_in_municipality=='ഇല്ല' && 
                                            this.mandalamform.value.is_meeting_conducted_in_ward=='ഇല്ല' &&
                                            this.mandalamform.value.is_meeting_conducted_in_constituency=='ഇല്ല'){
                                        <tr>
                                            <td><label for="meeting_not_conducted_reason">ഒരു മീറ്റിംഗും നടത്തിയില്ലെങ്കിൽ, കാരണം ?</label></td>
                                            <td><textarea id="meeting_not_conducted_reason" name="meeting_not_conducted_reason" formControlName="meeting_not_conducted_reason" rows="4" cols="50"></textarea>
                                                @if(this.mandalamform.get('meeting_not_conducted_reason')?.hasError('required')&&this.mandalamform.get('meeting_not_conducted_reason')?.touched){
                                                    <div class="error" >ദയവായി യോഗം നടത്താത്തതിന്റെ കാരണം നൽകുക</div>
                                                  }
                                            </td>
                                        </tr>
                                    } 
                                        <tr>
                                            <td><label for="ward_panchayath_mandalam_reporting">വാർഡ് പഞ്ചായത്ത് മണ്ഡലം റിപ്പോർട്ടിംഗ്</label></td>
                                            <td><textarea id="ward_panchayath_mandalam_reporting" name="ward_panchayath_mandalam_reporting" formControlName="ward_panchayath_mandalam_reporting" rows="4" cols="50" required></textarea>
                                                @if(this.mandalamform.get('ward_panchayath_mandalam_reporting')?.hasError('required')&& this.mandalamform.get('ward_panchayath_mandalam_reporting')?.touched){
                                                    <div class="error" >ദയവായി വാർഡ് പഞ്ചായത്ത് മണ്ഡലം റിപ്പോർട്ടിംഗ്നൽകുക</div>
                                                  }@else if (this.mandalamform.get('ward_panchayath_mandalam_reporting')?.hasError('pattern')) {
                                                    <div class="error" >ദയവായി വാർഡ് പഞ്ചായത്ത് മണ്ഡലം റിപ്പോർട്ടിംഗ്  നൽകുക</div>
                                                  }</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td> <input type="submit" value="Submit"></td>
                                        </tr>
                                    </table>
                                    
                                    @if (this.msg) {
                                        <div  class="alert alert-success" role="alert">
                                           <p >{{this.msg}}</p>
                                         </div>
                                       }
                                       @if (this.errorMsg){
                                         <div class="alert alert-danger" role="alert">
                                           <p >{{this.errorMsg}}</p>
                                         </div>
                                       }
                                    </div>
                                    </form>
                                    }
                             
                          
                        
                       
                    </div> 
                }
                 @if(this.privilage=='survey'){  
                <input class="input" name="tabs" type="radio" id="tab-8"/>
                <label class="label" for="tab-8">ചോദ്യാവലി</label>
                <div class="panel">
                    <form [formGroup]="surveyform" (submit)="surveyReport()">
                        <div class="table-responsive">
                        <table class="table-center">                        
                         <tr>
                                <td style="width:50%"><label for="name">പേര്</label></td>
                                <td>
                                    <input type="text" id="name" name="name" formControlName="name"   required>                                  
                                    @if(this.surveyform.get('name')?.hasError('required')&&this.surveyform.get('name')?.touched){
                                        <div class="error" >ദയവായി പേര് നൽകുക</div>
                                    }
                                    @else if (this.surveyform.get('name')?.hasError('pattern')) {                                       
                                            <div class="error" >ദയവായി പേര് ശരി ആയി നൽകുക</div>
                                          
                                    }
                                   
                                  </td>
                            </tr>                           
                            <tr>
                                <td><label for="age">വയസ്</label></td>
                                <td><input type="text" id="age" name="age" formControlName="age" maxlength="3"  required>
                                 @if(this.surveyform.get('age')?.hasError('required')&&this.surveyform.get('age')?.touched){
                                        <div class="error" >ദയവായി വയസ് നൽകുക</div>
                                    }@else if (this.surveyform.get('age')?.hasError('pattern')) {
                                        <div class="error" >ദയവായി വയസ് ശരി ആയി നൽകുക</div>
                                      } 
                                </td>
                            </tr>
                            <tr>
                                <td><label for="date">തൊഴിൽ</label></td>
                                <td><input type="text" id="occupation" name="occupation" formControlName="occupation"  required>
                                    @if(this.surveyform.get('date')?.hasError('required')&&this.surveyform.get('date')?.touched){
                                        <div class="error" >ദയവായി തീയതി നൽകുക</div>
                                      }
                                </td>
                            </tr>
                            <tr>
                                <td><label for="mobile_number">മൊബൈൽ നമ്പർ</label></td>
                                <td><input type="text" id="mobile_number" name="mobile_number" formControlName="mobile_number" required>
                                    @if(this.surveyform.get('mobile_number')?.hasError('required')&&this.surveyform.get('mobile_number')?.touched){
                                        <div class="error" >ദയവായി മൊബൈൽ നമ്പർ നൽകുക</div>
                                      }
                                      @else if (this.surveyform.get('mobile_number')?.hasError('pattern')) {
                                        <div class="error" >ദയവായി 10 അക്ക മൊബൈൽ നമ്പർ  നൽകുക</div>
                                      } 
                                </td>
                            </tr>
                            <tr>
                                <td><label for=" house_number">വീട് നമ്പർ</label></td>
                                <td><input type="text" id="house_number" name="house_number" formControlName="house_number" required>
                                    @if(this.surveyform.get('house_number')?.hasError('required')&&this.surveyform.get('house_number')?.touched){
                                        <div class="error" >ദയവായി വീട് നമ്പർ നൽകുക</div>
                                      }
                                </td>
                            </tr>
                            <tr>
                                <td><label for="ward_number">വാർഡ് നമ്പർ</label></td>
                                <td><input type="text" id="ward_number" name="ward_number" formControlName="ward_number" required>
                                    @if(this.surveyform.get('ward_number')?.hasError('required')&&this.surveyform.get('ward_number')?.touched){
                                        <div class="error" >ദയവായി വാർഡ് നമ്പർ നൽകുക</div>
                                      }
                                </td>
                            </tr>
                            <tr>
                              <td><label for="constituency">നീയോജക മണ്ഡലം</label></td>
                              <td>
                                  <select class="form-control" id="firstDropdown" (change)="onFirstDropdownChange($event)" formControlName="constituency">
                                      <option value="">നിയോജക മണ്ഡലം തിരഞ്ഞെടുക്കുക</option>
                                      <option *ngFor="let consti of constituencylist" [value]="consti.id">{{ consti.name }}</option>
                                  </select>
                              </td>
                          </tr>
                          
                            <!-- <tr>
                                <td><label for="constituency">നീയോജക മണ്ഡലം</label></td>
                                <td>
                                    <select class="form-control" id="firstDropdown" (change)="onFirstDropdownChange($event)" formControlName="constituency">
                                        <option value="">നിയോജക മണ്ഡലം തിരഞ്ഞെടുക്കുക</option>
                                        <option *ngFor="let consti of constituencylist" [value]="consti.value">{{ consti.name }}</option>
                                      </select>
                                      
                                       
                                </td>
                            </tr> -->
                            <tr>
                                <td><label for="panchayath">പഞ്ചായത്ത്</label></td>
                                <td> <select class="form-control" id="secondDropdown" (change)="onsecondDropdownChange($event)" formControlName="panchayath">
                                    <option value="">തിരഞ്ഞെടുക്കുക</option>
                                     <option *ngFor="let panchayat of panchayats" [value]="panchayat.id">{{ panchayat.name }}</option>
                                   </select>
                               
                                </td>
                            </tr>
                          
                            
                            <tr>
                                <td><label for="family_members">കുടുംബത്തിലെ അംഗങ്ങളുടെ എണ്ണം [എണ്ണം ]:</label></td>
                                <td>
                                  <input 
                                    type="number" 
                                    formControlName="family_members" 
                                    name="family_members" 
                                    [(ngModel)]="numberOfRows" 
                                    (change)="updateRows()" 
                                    min="1"
                                  />
                                  <!-- Error message for family_members control -->
                                  <div *ngIf="surveyform.get('family_members')?.hasError('required') && surveyform.get('family_members')?.touched" class="error">
                                    ദയവായി എണ്ണം നൽകുക
                                  </div>
                                </td>
                              </tr>
                              
                              <tr>
                                <td colspan="2"><label for="date">ആയവരിൽ ഓരോരുത്തരുടെയും പേര്/വയസ്സ്/ വോട്ടർ ലിസ്റ്റിൽ പേരുള്ളവരാണോ ?</label></td> 
                              </tr>
                              <tr>
                                <td colspan="2">
                                  <table style="margin:0;">
                                    <thead style="border: 1px solid #000;font-size:14px !important;font-weight: 400;">
                                      <tr>
                                        <th style="width:40%">പേര്</th>
                                        <th>വയസ്സ്</th>
                                        <th>വോട്ടർ ലിസ്റ്റിൽ പേരുള്ളവരാണോ ?</th>
                                      </tr>
                                    </thead>
                                    <tbody formArrayName="family">
                                        <tr *ngFor="let member of family.controls; let i = index" [formGroupName]="i">
                                            <td><input type="text" formControlName="name" placeholder="പേര്"></td>
                                            <td>
                                                <input 
                                                  type="number" 
                                                  formControlName="age"
                                                  min="0" 
                                                  max="120"
                                                  placeholder="വയസ്സ്"
                                                />
                                                <div *ngIf="family.at(i).get('age')?.touched && family.at(i).get('age')?.invalid" class="error">
                                                  {{ getAgeError(family.at(i).get('age')) }}
                                                </div>
                                              </td>
                                            <td> 
                                              <select formControlName="is_in_voters_list">
                                                <option value="">തിരഞ്ഞെടുക്കുക</option>
                                                <option value="ഉണ്ട്">ഉണ്ട്</option>
                                                <option value="ഇല്ല"> ഇല്ല</option>
                                              </select>
                                            </td>
                                          </tr>
                                          
                                      </tbody>
                                  </table>
                                </td>
                              </tr>
                              
                              <!-- <tr>
                                <td colspan="2">
                                  <button (click)="getFamilyMembers()">Get Family Members</button>
                                </td>
                              </tr> -->
                            
                    
                          
                            <tr>
                                <td colspan="2"><label for="date">താങ്കൾ വ്യക്തി പരമായോ കുടുംബപരമായോ നേരിടുന്ന പ്രശ്നങ്ങൾ/ പ്രതിസന്ധികൾ</label></td>    
                            </tr>                           
                            <tr>
                                <td colspan="2">
                                    <div formArrayName="concerns">
                                      <div *ngFor="let concern of concerns.controls; let i = index" class="concern-row">
                                        <input 
                                          type="text" 
                                          [formControlName]="i" 
                                          id="concerns-{{i}}" 
                                          name="concerns-{{i}}" 
                                          required>
                                        <button type="button" (click)="addConcern()">Add</button>
                                        <button type="button" (click)="removeConcern(i)">Remove</button>
                                      </div>
                                    </div>
                                  </td>                      
                            </tr>                           
                            <tr>
                                <td colspan="2"><label for="desired_improvements">താങ്കളുടെ വാർഡ് / പഞ്ചായത്ത് നേരിടുന്ന പ്രതിസന്ധികൾ / വിഷയങ്ങൾ അതിൽ മാറ്റം വരാൻ ആഗ്രഹിക്കുന്നവ :</label></td>     
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <div formArrayName="desired_improvements">
                                      <div *ngFor="let improvement of desired_improvements.controls; let i = index" class="concern-row">
                                        <input 
                                          type="text" 
                                          [formControlName]="i" 
                                          id="desired_improvements-{{i}}" 
                                          name="desired_improvements-{{i}}" 
                                          required>
                                        <button type="button" (click)="addImprovement()">Add</button>
                                        <button type="button" (click)="removeImprovement(i)">Remove</button>
                                      </div>
                                    </div>
                                  </td>                                                                  
                            </tr> 
                            <tr>
                                <td colspan="2">
                                    <label for="key_state_issues_to_change">
                                      നമ്മുടെ സംസ്ഥാനം നേരിടുന്ന വിഷയങ്ങൾ / പ്രതിസന്ധികൾ അതിൽ മാറ്റം വരാൻ താങ്കൾ ആഗ്രഹിക്കുന്ന വിഷയങ്ങൾ എന്തൊക്കെ
                                    </label>
                                  </td>
                                </tr>
                                <tr>
                                  <td colspan="2">
                                    <div formArrayName="key_state_issues_to_change">
                                      <div *ngFor="let issue of key_state_issues_to_change.controls; let i = index" class="concern-row">
                                        <input 
                                          type="text" 
                                          [formControlName]="i" 
                                          id="key_state_issues_to_change-{{i}}" 
                                          name="key_state_issues_to_change-{{i}}" 
                                          required>
                                        <button type="button" (click)="addIssue()">Add</button>
                                        <button type="button" (click)="removeIssue(i)">Remove</button>
                                      </div>
                                    </div>
                                  </td>                                                                
                            </tr> 
                            
                            <tr>
                                <td colspan="2"><label for="your_social_entitlements"> നിങ്ങളുടെ സാമൂഹിക ആവശ്യങ്ങൾ, അധികാരികൾ നൽകേണ്ടത്: </label></td>     
                            </tr>
                            <tr>
                                <td colspan="2">
                                  <div formArrayName="your_social_entitlements">
                                    <div *ngFor="let entitlement of your_social_entitlements.controls; let i = index"  class="concern-row">
                                      <input 
                                        type="text" 
                                        [formControlName]="i" 
                                        id="your_social_entitlements-{{i}}" 
                                        name="your_social_entitlements-{{i}}" 
                                        required>
                                      <button type="button" (click)="addEntitlement()">Add</button>
                                      <button type="button" (click)="removeEntitlement(i)">Remove</button>
                                    </div>
                                  </div>
                                </td>
                              </tr>                           
                            <tr>
                                <td colspan="2"><label for="date">ഒരു മാസത്തിലെ ശരാശരി ചെലവ്:</label></td>
                               
                            </tr> 
                            <tr>
                                <td><label for="food_expenses">ഭക്ഷണം</label></td>
                                <td>
                                  <input type="text" id="food_expenses" name="food_expenses" formControlName="food_expenses" required>
                                  @if(this.surveyform.get('food_expenses')?.hasError('required')&&this.surveyform.get('food_expenses')?.touched){
                                    <div class="error" >ദയവായി ഭക്ഷണം ചെലവ് നൽകുക</div>
                                }
                                @else if (this.surveyform.get('food_expenses')?.hasError('pattern')) {                                       
                                        <div class="error" >ദയവായി ഭക്ഷണം ചെലവ് ശരിയായി നൽകുക</div>
                                      
                                } 
                                </td>
                              </tr>
                              
                            <tr>
                                <td><label for="date">മരുന്ന്</label></td>
                                <td><input type="text" id="medicine_expenses" name="medicine_expenses" formControlName="medicine_expenses" required>

                                    @if(this.surveyform.get('medicine_expenses')?.hasError('required')&&this.surveyform.get('medicine_expenses')?.touched){
                                        <div class="error" >ദയവായി മരുന്ന് ചെലവ് നൽകുക</div>
                                    }
                                    @else if (this.surveyform.get('medicine_expenses')?.hasError('pattern')) {                                       
                                            <div class="error" >ദയവായി മരുന്ന് ചെലവ് ശരിയായി നൽകുക</div>
                                          
                                    }                                 
                                </td>
                            </tr>

                            <tr>
                                <td><label for="education_expenses">വിദ്യാഭ്യാസം</label></td>
                                <td><input type="text" id="education_expenses" name="education_expenses" formControlName="education_expenses" required>

                                    @if(this.surveyform.get('education_expenses')?.hasError('required')&&this.surveyform.get('education_expenses')?.touched){
                                        <div class="error" >ദയവായി വിദ്യാഭ്യാസം ചെലവ് നൽകുക</div>
                                    }
                                    @else if (this.surveyform.get('education_expenses')?.hasError('pattern')) {                                       
                                            <div class="error" >ദയവായി വിദ്യാഭ്യാസം ചെലവ് ശരിയായി നൽകുക</div>
                                          
                                    }
                                </td>
                            </tr>
                            <tr>
                                <td><label for="date">നിങ്ങൾ ഏതെങ്കിലും രാഷ്ട്രീയ കക്ഷികളിൽ സ്ഥാനമേറ്റിട്ടുണ്ടോ </label></td>
                                <td><div>                                                    
                                    <label class="radio-inline">
                                        <input type="radio" name="political_membership"  id="political_membership" value="UDF"  formControlName="political_membership">UDF
                                      </label>
                                      <label class="radio-inline">
                                        <input type="radio" name="political_membership"  id="political_membership"  value="LDF"  formControlName="political_membership">LDF
                                      </label>
                                      <label class="radio-inline">
                                        <input type="radio" name="political_membership"  id="political_membership"  value="BJP"  formControlName="political_membership">BJP
                                      </label>
                                      <label class="radio-inline">
                                        <input type="radio" name="political_membership"  id="political_membership"  value="Twenty20"  formControlName="political_membership">Twenty20
                                      </label>
                                      <label class="radio-inline">
                                        <input type="radio" name="political_membership"  id="political_membership"  value="മറ്റ് കക്ഷി കൾ"  formControlName="political_membership">മറ്റ് കക്ഷി കൾ,
                                      </label>
                                  </div>
                                </td>
                            </tr>
                            <tr *ngIf="surveyform.get('political_membership').value !== ''">
                                <td>
                                  <label for="your_designation">ഉണ്ടെങ്കിൽ സ്ഥാനത്തിൻ്റെ പേര് നൽകുക</label>
                                </td>
                                <td>
                                  <input 
                                    type="text" 
                                    id="your_designation" 
                                    name="your_designation" 
                                    formControlName="your_designation" 
                                    required>
                                  
                                  <!-- Display error if 'your_designation' is required and touched -->
                                  <div *ngIf="surveyform.get('your_designation')?.hasError('required') && surveyform.get('your_designation')?.touched" class="error">
                                    ദയവായി സ്ഥാനത്തിൻ്റെ പേര് നൽകുക
                                  </div>
                                </td>
                              </tr>
                              
                            
                            <tr>
                                <td></td>
                                <td> <input type="submit" value="Submit"></td>
                            </tr>
                           
                             
                              
                        </table>
                        
                        @if (this.msg) {
                            <div  class="alert alert-success" role="alert">
                               <p >{{this.msg}}</p>
                             </div>
                           }
                           @if (this.errorMsg){
                             <div class="alert alert-danger" role="alert">
                               <p >{{this.errorMsg}}</p>
                             </div>
                           }
                        </div>
                        </form>
                </div>
                 }
                @if(this.privilage=='survey'){  
                <input class="input" name="tabs" type="radio" id="tab-9"/>
                <label class="label" for="tab-9">സർവേ ലിസ്റ്റ്</label>
                <div class="panel">

                    <div class="loader" *ngIf="isLoading">
                        <div class="spinner"></div>
                      </div>
                      <div *ngIf="!isLoading">                                      
                                <div class="table-responsive">                                                                     

                                        <table  style="margin:0px;background-color: #fcf8f8;padding:10px">
                                        <tr style="background-color:  #b5dcf7; ; color: #111010; text-align: center;">
                                            <td colspan="4" style="padding: 10px; font-size: 16px;">സർവേ ലിസ്റ്റ്</td>
                                        </tr>
                                        <!-- Toggle Button to Show or Hide the form -->
                                       <div class="button-group" style="text-align: right; margin-bottom: 15px;margin-top: 10px;">
                                        <!-- Toggle Filter Button -->
                                        <button 
                                            class="btn btn-secondary" 
                                            (click)="toggleFormVisibility()" 
                                            style="margin-right: 10px; padding: 10px 20px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                        >
                                            <i class="fas" [ngClass]="isFormVisible ? 'fa-eye-slash' : 'fa-eye'"></i>
                                            {{ isFormVisible ? 'Hide Filter' : 'Show Filter' }}
                                        </button>  
                                         <button 
                                            class="btn btn-primary" 
                                            (click)="survey_list()" 
                                            style="margin-right: 10px;padding: 10px 25px; border-radius: 25px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);"
                                        >
                                             Reset
                                        </button>                                                 
                                    
                                    </div>
                                    
                                    <!-- Filter Form: Show/Hide based on isFormVisible -->
                                    <tr *ngIf="isFormVisible">
                                        <td colspan="2">
                                            <form [formGroup]="surveyfilter" (ngSubmit)="onFilters()">
                                                <div class="filter-section d-flex justify-content-between">                                        
                                                    <div class="filter-item">
                                                        <label for="startDate" class="filter-label">Start Date</label>
                                                        <input type="date" id="startDate" formControlName="startDate" [max]="maxDate" class="filter-input form-control" />
                                                    </div>
                                                    <div class="filter-item">
                                                        <label for="endDate" class="filter-label">End Date</label>
                                                        <input type="date" id="endDate" formControlName="endDate" [max]="maxDate" class="filter-input form-control" />
                                                    </div>
                                                    <div class="filter-item filter-button">
                                                        <button type="submit" class="btn btn-success" style="border-radius: 25px; padding: 10px 20px;">
                                                            Filter
                                                        </button>
                                                    </div>
                                                </div>
                                            </form>                                           
                                        </td>
                                    </tr>                                                                                                 
                                        <div *ngIf="survey_lists && survey_lists.length > 0; else noData1">
                                            <!-- Display filtered data in a table -->
                                            <table class="table table-bordered">
                                            <thead>
                                                <tr>
                                                    <th style="padding: 12px;">Sl.no</th>
                                                    <th style="padding: 12px;">Name</th>
                                                    <th style="padding: 12px;">House Number</th>
                                                    <th style="padding: 12px;">Ward Number</th>
                                                    <th style="padding: 12px;">Panchayath</th>
                                                   
                                                
                                                <!-- Add other columns as needed -->
                                                </tr>
                                            </thead>
                                            <tbody>                                                
                                                <tr *ngFor="let item of survey_lists| paginate: { itemsPerPage: 15, currentPage: page }; let i = index">
                                                  <td>{{ (page - 1) * itemsPerPage + i + 1 }}</td>
                                                    <td>{{item.name}}</td>
                                                    <td>{{item.house_number}}</td>
                                                    <td>{{item.ward_number}}</td>
                                                    <td>{{item.panchayath}}</td>
                                                <td>
                                                    <a class="btn1" data-bs-toggle="modal"  data-bs-target="#survey" (click)="survey_view(item.id)">Click to view report</a>
                                                </td>
                                                </tr>
                                            </tbody>
                                            </table>
                                            <div class="pagination-container">
                                              <pagination-controls 
                                                (pageChange)="onTableDataChange($event)"
                                                [responsive]="true"
                                                [itemsPerPage]="tableSize"
                                                [totalItems]="count">
                                              </pagination-controls>
                                            </div>
                                            
                                        </div>
                                        
                                        <!-- No data message -->
                                        <ng-template #noData1>
                                            <p class="text-center text-muted">No data available for the selected date range.</p>
                                        </ng-template>
                                        

                                    
                                        </table>
                                                              
                                 </div>                                       
                       
                    <ng-template #noData>
                        <p class="text-center text-muted">No data available for the selected date range.</p>
                      </ng-template>
                                      
                             
                            </div> 

               </div>
                }
              </div>
    
        </div>
        
 <!-- Modal -->
 <div class="modal fade" id="survey" tabindex="-1" aria-labelledby="survey" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">survey</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        
            <table class="table2" style="margin: 0; font-size:14px !important" >  
                <tr>
                    <td style="width:50% ">പേര് </td>
                    <td>:    {{this.name1}}                                                             
                      </td>
                </tr>                      
                <tr>
                       <td>വയസ്സ്</td>
                       <td>:  {{this.age1}}                                                                
                         </td>
                   </tr>                           
                   <tr>
                       <td>തൊഴിൽ</td>
                       <td>: {{this.occupation1}} </td>
                   </tr>
                  
                   <tr>
                       <td> മൊബൈൽ നമ്പർ</td>
                       <td>: {{this.mobile1}}</td>
                   </tr>

                   <tr> 
                    <td>വീട് നമ്പർ</td>
                       <td>: {{this.house_number1}}
                   </td>
                   </tr>
                   <tr> 
                    <td>വാർഡ് നമ്പർ</td>
                       <td>: {{this.ward_number1}}
                   </td>
                   </tr>
                   <tr> 
                    <td>നീയോജക മണ്ഡലം</td>
                       <td>: {{this.constituency1}}
                   </td>
                   </tr>
                   <tr> 
                    <td>പഞ്ചായത്ത്</td>
                       <td>: {{this.panchayath1}}
                   </td>
                   </tr>
                   <tr> 
                    <td>കുടുംബത്തിലെ അംഗങ്ങളുടെ എണ്ണം</td>
                       <td>: {{this.family_members_count1}}
                   </td>
                   </tr>                  
                   <tr>
                    <td colspan="2">ആയവരിൽ ഓരോരുത്തരുടെയും പേര്/വയസ്സ്/ വോട്ടർ ലിസ്റ്റിൽ പേരുള്ളവരാണോ ?</td>                                                            
                      
                           </tr>
                           <tr><td colspan="2">
                            <div>
                                <pre>{{this.family_members_details1}}</pre>
                              </div>
                              
                           </td></tr>
                           <tr> 
                            <td colspan="2"><b>താങ്കൾ വ്യക്തി പരമായോ കുടുംബപരമായോ നേരിടുന്ന പ്രശ്നങ്ങൾ/ പ്രതിസന്ധികൾ</b>
                                </td>
                          
                           </tr>
                           <tr> 
                            <td colspan="2"><ul style="margin-left:20px">                             
                             <li *ngFor="let activity of concerns1">
                                 {{ activity}}
                               </li>
                           </ul>
                        </td>
                        </tr>  
                           <tr> 
                            <td colspan="2"><b>താങ്കളുടെ വാർഡ് / പഞ്ചായത്ത് നേരിടുന്ന പ്രതിസന്ധികൾ / വിഷയങ്ങൾ അതിൽ മാറ്റം വരാൻ ആഗ്രഹിക്കുന്നവ</b></td>
                          
                           </tr>
                           <tr>
                            <tr> 
                                   <td colspan="2"><ul style="margin-left:20px">                             
                                    <li *ngFor="let activity of desired1">
                                        {{ activity}}
                                      </li>
                                  </ul>
                               </td>
                               </tr>                            
                               <tr> 
                                <td colspan="2"><b>നമ്മുടെ സംസ്ഥാനം നേരിടുന്ന വിഷയങ്ങൾ / പ്രതിസന്ധികൾ അതിൽ മാറ്റം വരാൻ താങ്കൾ ആഗ്രഹിക്കുന്ന വിഷയങ്ങൾ എന്തൊക്കെ</b></td>
                                   
                               
                               </tr>
                               <tr> 
                                <td colspan="2"><ul style="margin-left:20px">                             
                                 <li *ngFor="let activity of key1">
                                     {{ activity}}
                                   </li>
                               </ul>
                            </td>
                            </tr> 
                               <tr> 
                                <td colspan="2"><b>നിങ്ങളുടെ സാമൂഹിക ആവശ്യങ്ങൾ, അധികാരികൾ നൽകേണ്ടത്:</b></td>
                                  
                               </tr>
                               <tr> 
                                <td colspan="2"><ul style="margin-left:20px">                             
                                 <li *ngFor="let activity of your_social1">
                                     {{ activity}}
                                   </li>
                               </ul>
                            </td>
                            </tr> 
                               <tr> 
                                <td colspan="2">ഒരു മാസത്തിലെ ശരാശരി ചെലവ്</td>
                                  
                             
                               </tr>
                               <tr> 
                                <td >ഭക്ഷണം</td>
                                <td >{{this.food_expenses1}}</td>
                                </tr>
                                <tr>
                                    <td >മരുന്ന്</td>
                                    <td >{{this.medicine1}}</td>
                                </tr>
                                <tr>
                                <td>വിദ്യാഭ്യാസം</td>
                                <td>{{this.education_expenses1}}</td>
                               </tr>
                               <tr> 
                                <td colspan="2"><b>നിങ്ങൾ ഏതെങ്കിലും രാഷ്ട്രീയ കക്ഷികളിൽ സ്ഥാനമേറ്റിട്ടുണ്ടോ</b></td>
                                  
                             
                               </tr>
                               <tr>                               
                                <td>{{this.political1}}</td>
                               </tr>


                  @if(this.political1!=null){
                    <tr>
                        <td colspan="2"><b>ഉണ്ടെങ്കിൽ സ്ഥാനത്തിൻ്റെ പേര് നൽകുക
                            :</b></td>
                        
                        
                    </tr>
                    <tr> <td colspan="2"> {{this.your_designation1}}</td></tr>
                } 
                
               </table>
               
                
        </div>
        <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Ok</button> 
        <!-- <button type="button"  class="btn-close" class="btn btn-primary">Ok</button> -->
        </div>
    </div>
    </div>
</div>

</div>
</div>
</section>




